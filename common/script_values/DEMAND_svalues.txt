#### NOTE:
#### Demand svalues for food and luxuries should be the base value, unless the first demand calculation has been done, which adjusts demand for certain goods based on prices. The svalue should still be used, and an if statement placed therein that checks for whether the first demand calculation has been done.


# Svalues containing the demand calculations for every type of good

# 0.1 is the default amount that is sufficient for 1 pop for 1 quarter

# Demand levels

DEMAND_tiny = {
	value = 0.1
}

DEMAND_small = {
	value = 0.25
}

DEMAND_medium = {
	value = 0.5
}

DEMAND_large = {
	value = 0.75
}

DEMAND_huge = {
	value = 1
}

# Base levels for categories

# - Obsolete for now

DEMAND_essentials = {
	value = governorship_population
	multiply = DEMAND_tiny
}

# TODO: Consumer demand should be modified by governorship average industrialisation, as industrialisation represents the amount of people not in subistence living.
# Average industrialisation should also modify the amount offered up to trade vs the amount consumed locally

# Malus levels. If essential, simply do not add a min value for the malus.

deficit_malus_large = {
	value = 0.25 # This good is very important for the demanding industry
}

deficit_malus_medium = {
	value = 0.5 # This good is moderately important for the demanding industry
}

deficit_malus_small = {
	value = 0.75 # This good provides a minor bonus for the demanding industry
}

# Food price mean absolute deviation, used in PRICE_set_food_mean_normalised_price to compare a right-side svalue to the individual food types' prices from the mean

svalue_PRICE_food_MAD = {
	# Scope: Trade center province
	value = var:PRICE_food_MAD
}


### Governorship level

#******************************************************
#*                        Grain                       *
#******************************************************

DEMAND_grain_from_pops = {
	value = DEMAND_essentials
}

#----------------------------------
#-       Grain From Alcohol       -
#----------------------------------

DEMAND_grain_from_industry_alcohol = {
	value = var:INDUSTRY_factories_assigned_alcohol
	multiply = DEMAND_huge
}

DEMAND_grain_industry_alcohol_malus = {
	value = DEMAND_grain_from_industry_alcohol
	if = {
		limit = {
			var:grain_stockpile > 0
		}
		divide = var:grain_stockpile
	}
	else_if = {
		limit = {
			var:grain_stockpile = 0
		}
		value = deficit_malus_large
	}
	min = deficit_malus_large
}

#DEMAND_grain = { # Total
#	value = DEMAND_grain_from_pops
#	add = DEMAND_grain_from_industry_alcohol
#}

DEMAND_grain_weighted = { # This is how we weight the demand for purchase orders of certain goods over others.
	value = DEMAND_grain
	add = 10
}

#******************************************************
#*                 Mediterranean Fruit                *
#******************************************************


DEMAND_mediterranean_fruit_from_pops = {
	value = governorship_population
	multiply = DEMAND_tiny
}

#----------------------------------
#-     Med Fruit from Alcohol     -
#----------------------------------

DEMAND_mediterranean_fruit_from_industry_alcohol = {
	value = var:INDUSTRY_factories_assigned_alcohol
	multiply = DEMAND_huge
}

DEMAND_mediterranean_fruit_industry_alcohol_malus = {
	value = DEMAND_mediterranean_fruit_from_industry_alcohol
	if = {
		limit = {
			var:mediterranean_fruit_stockpile > 0
		}
		divide = var:mediterranean_fruit_stockpile
	}
	else_if = {
		limit = {
			var:mediterranean_fruit_stockpile = 0
		}
		value = deficit_malus_large
	}
	min = deficit_malus_large
}

#DEMAND_mediterranean_fruit = { # Total
#	value = DEMAND_mediterranean_fruit_from_pops
#	add = DEMAND_mediterranean_fruit_from_industry_alcohol
#}

#******************************************************
#*                        Glass                       *
#******************************************************

DEMAND_glass_from_pops = {
	value = governorship_population
	multiply = DEMAND_medium
}

#----------------------------------
#-       Glass From Alcohol       -
#----------------------------------

DEMAND_glass_from_industry_alcohol = {
	value = var:INDUSTRY_factories_assigned_alcohol
	multiply = DEMAND_huge
}

DEMAND_glass_industry_alcohol_malus = {
	value = DEMAND_glass_from_industry_alcohol
	if = {
		limit = {
			var:glass_stockpile > 0
		}
		divide = var:glass_stockpile
	}
	else_if = {
		limit = {
			var:glass_stockpile = 0
		}
		value = deficit_malus_small
	}
	min = deficit_malus_small
}

DEMAND_consumer_multiplier = {
	value = CURRENCY_amt_circulated_deflation_demand_multiplier
	add = CURRENCY_amt_circulated_inflation_demand_multiplier
}

DEMAND_consumer_large = {
	value = 0
	if = {
		limit = {
			has_variable = governorship_population
		}
		add = var:governorship_population
		multiply = 0.05
		multiply = DEMAND_consumer_multiplier
	}
}

DEMAND_consumer_medium = {
	value = 0
	if = {
		limit = {
			has_variable = governorship_population
		}
		add = var:governorship_population
		multiply = 0.025
		multiply = DEMAND_consumer_multiplier
	}
}

DEMAND_consumer_small = {
	value = 0
	if = {
		limit = {
			has_variable = governorship_population
		}
		add = var:governorship_population
		multiply = 0.005
		multiply = DEMAND_consumer_multiplier
	}
}

DEMAND_consumer_tiny = {
	value = 0
	if = {
		limit = {
			has_variable = governorship_population
		}
		add = var:governorship_population
		multiply = 0.001
		multiply = DEMAND_consumer_multiplier
	}
}

DEMAND_clothing = { # Total
	value = 0
	add = DEMAND_consumer_small
	if = {
		limit = {
			has_variable = DEMAND_from_industry_clothing
		}
		add = var:DEMAND_from_industry_clothing
	}
}
DEMAND_furniture = { # Total
	value = 0
	add = DEMAND_consumer_medium
	every_governorship_state = {
		every_state_province = {
			add = num_of_URB_residential_district
		}
	}
	multiply = 0.2
	if = {
		limit = {
			has_variable = DEMAND_from_industry_furniture
		}
		add = var:DEMAND_from_industry_furniture
	}
}
DEMAND_pharmaceuticals = { # Total
	value = 0
	add = DEMAND_consumer_medium
	multiply = 0.5
	every_governorship_state = {
		every_state_province = {
			add = num_of_INF_hospital
		}
	}

	if = {
		limit = {
			has_variable = DEMAND_from_industry_pharmaceuticals
		}
		add = var:DEMAND_from_industry_pharmaceuticals
	}
}
DEMAND_coal = { # Total
	value = 0
	# Domestically burned coal
	every_governorship_state = {
		every_state_province = {
			add = num_of_URB_residential_district
		}
	}
	multiply = 0.2 
	# Industrial coal use
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_bronze
		}
		add = INDUSTRY_demand_bronze_coal
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_alcohol
		}
		add = INDUSTRY_demand_alcohol_coal
	}
}
DEMAND_whales = { # Total
	value = 0
	# Whale oil used for lighting
	every_governorship_state = {
		every_state_province = {
			limit = {
				has_city_status = yes
			}
			add = 0.1
		}
	}

	if = {
		limit = {
			has_variable = DEMAND_from_industry_whales
		}
		add = var:DEMAND_from_industry_whales
	}
}

DEMAND_glass = { # Total
	value = 0
	# Domestic glass usage
	every_governorship_state = {
		every_state_province = {
			add = num_of_URB_residential_district
		}
	}
	multiply = 0.5 
	if = {
		limit = {
			has_variable = DEMAND_from_industry_glass
		}
		add = var:DEMAND_from_industry_glass
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_alcohol
		}
		add = INDUSTRY_demand_alcohol_glass
	}
}
DEMAND_motors = { # Total
	value = 0

	if = {
		limit = {
			has_variable = DEMAND_from_industry_motors
		}
		add = var:DEMAND_from_industry_motors
	}
}
DEMAND_fur = { # Total
	value = 0
	add = governorship_upper_strata
	multiply = 0.03
	if = {
		limit = {
			has_variable = DEMAND_from_industry_fur
		}
		add = var:DEMAND_from_industry_fur
	}
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_luxury_clothing
		}
		add = var:COTTAGEIND_produced_luxury_clothing
	}
}
DEMAND_industrial_fibres = { # Total
	value = 0
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_naval_supplies
		}
		add = var:COTTAGEIND_produced_naval_supplies
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_naval_supplies
		}
		add = INDUSTRY_demand_naval_supplies_industrial_fibres
	}
	every_governorship_state = {
		every_state_province = {
			# Usage for rope, sacks, netting, etc.
			add = {
				value = DEMAND_tiny
				multiply = num_of_IND_resource_gathering_operation
			}
		}
	}
}
DEMAND_textile_fibres = { # Total
	value = 0
	every_governorship_state = {
		every_state_province = {
			add = num_of_port_building
		}
	}
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_luxury_clothing
		}
		add = var:COTTAGEIND_produced_luxury_clothing
		multiply = 2
	}
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_clothing
		}
		add = {
			value = var:COTTAGEIND_produced_clothing
			multiply = 3
		}
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_clothing
		}
		add = INDUSTRY_demand_clothing_textile_fibres
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_luxury_clothing
		}
		add = INDUSTRY_demand_luxury_clothing_textile_fibres
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_early_munitions
		}
		add = INDUSTRY_demand_early_munitions_textile_fibres
	}
	add = {
		value = var:governorship_population
		multiply = DEMAND_tiny
		multiply = 0.35
	}

}
DEMAND_wool = { # Total
	value = 0
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_clothing
		}
		add = var:COTTAGEIND_produced_clothing
	}
	if = {
		limit = {
			has_variable = DEMAND_from_industry_wool
		}
		add = var:DEMAND_from_industry_wool
	}
}
DEMAND_silk = { # Total
	value = 0
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_luxury_clothing
		}
		add = var:COTTAGEIND_produced_luxury_clothing
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_luxury_clothing
		}
		add = INDUSTRY_demand_luxury_clothing_silk
	}
}
DEMAND_wood = { # Total
	value = 0
	every_governorship_state = {
		every_state_province = {
			add = num_of_port_building # Reduce in favour of steel based on tech
		}
	}
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_wooden_ships
		}
		add = {
			value = var:COTTAGEIND_produced_wooden_ships
			multiply = 0.6
		}
	}
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_construction_materials
		}
		add = {
			value = var:COTTAGEIND_produced_construction_materials
			multiply = 0.6
		}
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_early_munitions
		}
		add = INDUSTRY_demand_early_munitions_wood
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_early_artillery
		}
		add = INDUSTRY_demand_early_artillery_wood
	}
}
DEMAND_stone = { # Total
	value = 0
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_construction_materials
		}
		add = var:COTTAGEIND_produced_construction_materials
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_early_munitions
		}
		add = INDUSTRY_demand_early_munitions_stone
	}
}
DEMAND_sulphur = { # Total
	value = 0
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_early_munitions
		}
		add = var:COTTAGEIND_produced_early_munitions
	}
	multiply = 0.04
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_early_munitions
		}
		add = INDUSTRY_demand_early_munitions_sulphur
	}
}
DEMAND_peat = { # Total
	value = 0
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_early_munitions
		}
		add = var:COTTAGEIND_produced_early_munitions
	}
	multiply = 0.06
	if = {
		limit = {
			has_variable = DEMAND_from_industry_peat
		}
		add = var:DEMAND_from_industry_peat
	}
}
DEMAND_tin = { # Total
	value = 0
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_bronze
		}
		add = var:COTTAGEIND_produced_bronze
		multiply = 2
	}
	multiply = 0.2 # 20% tin in bronze
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_bronze
		}
		add = INDUSTRY_demand_bronze_tin
	}
}
DEMAND_inorganic_compounds = { # Total
	value = 0
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_glass
		}
		add = var:COTTAGEIND_produced_glass
		multiply = 3
	}
	if = {
		limit = {
			has_variable = DEMAND_from_industry_inorganic_compounds
		}
		add = var:DEMAND_from_industry_inorganic_compounds
	}
}
DEMAND_copper = { # Total
	value = 0
	every_governorship_state = {
		every_state_province = {
			add = num_of_port_building
		}
	}
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_bronze
		}
		add = var:COTTAGEIND_produced_bronze
		multiply = 2
	}
	multiply = 0.8 # 80% copper in bronze
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_bronze
		}
		add = INDUSTRY_demand_bronze_copper
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_machine_parts
		}
		add = INDUSTRY_demand_machine_parts_copper
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_naval_supplies
		}
		add = INDUSTRY_demand_naval_supplies_copper
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_alcohol
		}
		add = INDUSTRY_demand_alcohol_copper
	}
	every_governorship_state = {
		every_state_province = {
			# Usage for nails, tools, scaffolding etc.
			add = {
				value = DEMAND_tiny
				multiply = num_of_IND_resource_gathering_operation
			}
		}
	}
}
DEMAND_iron = { # Total
	value = 0
	every_governorship_state = {
		every_state_province = {
			add = num_of_port_building
		}
	}
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_construction_materials
		}
		add = {
			value = var:COTTAGEIND_produced_construction_materials
			multiply = 0.5
		}
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_machine_parts
		}
		add = INDUSTRY_demand_machine_parts_iron
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_early_munitions
		}
		add = INDUSTRY_demand_early_munitions_iron
	}
	every_governorship_state = {
		every_state_province = {
			# Usage for nails, tools, braces etc.
			add = {
				value = DEMAND_tiny
				multiply = num_of_IND_resource_gathering_operation
			}
		}
	}
}
DEMAND_gold = { # Total
	value = 0
	add = DEMAND_luxury_base_total
	multiply = 0.2
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_luxury_clothing
		}
		add = var:COTTAGEIND_produced_luxury_clothing
	}
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_luxury_furniture
		}
		add = var:COTTAGEIND_produced_luxury_furniture
	}
	#multiply = 0.8
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_luxury_clothing
		}
		add = INDUSTRY_demand_luxury_clothing_gold
	}
	# Usage in minting

	# Reserve accumulation
	if = {
		limit = {
			owner = {
				trigger_if = {
					limit = {
						has_variable = gold_accumulation_rate
					}
					var:gold_accumulation_rate > 0
				}
			}
		}
		add = DEMAND_gold_reserve_accumulation_rate
	}
}

DEMAND_gold_reserve_accumulation_rate_national = {
	# Scope: Country
	# Functon: For use as a right-side comparator
	value = var:gold_accumulation_rate
}
DEMAND_gold_reserve_size_svalue = {
	# Scope: Country
	# For use as right-side comparator
	value = var:gold_reserve_size
}
DEMAND_gold_reserve_accumulation_rate = {
	# Scope: Governorship
	# Function: Get the amount needed to fill the gold reserve target, divided by the number of governorships
	if = {
		limit = {
			owner = {
				has_variable = DEMAND_gold_reserve_accumulation_basis
			}
		}
		value = owner.var:DEMAND_gold_reserve_accumulation_basis
	}
	else = {
		value = 1 # Error dodger
	}
	
	# Reduce the effective demand based on the shortage
	# multiply = DEMAND_shortage_gold_inverse ## NOTE: Removed because this causes major instability in prices
	# Scale the demand to the governorship's proportion of the country's population
	add = GOODS_governorship_gold_produced
	multiply = var:governorship_population
	divide = owner.country_population
}
DEMAND_gold_reserve_accumulation_basis = {
	# Scope: Country
	# Function: Get the gold reserve target minus current size divided by the number of governorships, to avoid calculating this every iteration when getting DEMAND_gold_reserve_accumulation_rate. This value is cached.
	value = var:gold_accumulation_rate
	divide = FUNC_num_governorships
}
DEMAND_shortage_gold_inverse = {
	# Scope: Governorship
	# Function: Get the inverse of the shortage of gold, so that the outcome is lower the higher the shortage
	value = 1
	if = {
		limit = {
			has_variable = shortage_gold
		}
		subtract = var:shortage_gold
	}
}

DEMAND_gold_base_minus_gold_reserve_demand = {
	value = DEMAND_gold
	subtract = DEMAND_gold_reserve_accumulation_rate
}
DEMAND_gold_for_reserve_divided_by_base_demand = {
	value = DEMAND_gold_reserve_accumulation_rate
	divide = DEMAND_gold_base_minus_gold_reserve_demand
}


DEMAND_silver = { # Total
	value = 0
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_luxury_clothing
		}
		add = var:COTTAGEIND_produced_luxury_clothing
	}
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_luxury_furniture
		}
		add = var:COTTAGEIND_produced_luxury_furniture
	}
	multiply = 0.2
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_luxury_clothing
		}
		add = INDUSTRY_demand_luxury_clothing_silver
	}
	# Usage in minting

	# Reserve accumulation
	if = {
		limit = {
			owner = {
				trigger_if = {
					limit = {
						has_variable = silver_accumulation_rate
					}
					var:silver_accumulation_rate > 0
				}
			}
		}
		add = DEMAND_gold_reserve_accumulation_rate
	}
}

DEMAND_silver_reserve_accumulation_rate_national = {
	# Scope: Country
	# Functon: For use as a right-side comparator
	value = var:silver_accumulation_rate
}
DEMAND_silver_reserve_size_svalue = {
	# Scope: Country
	# For use as right-side comparator
	value = var:silver_reserve_size
}
DEMAND_silver_reserve_accumulation_rate = {
	# Scope: Governorship
	# Function: Get the amount needed to fill the silver reserve target, divided by the number of governorships
	if = {
		limit = {
			owner = {
				has_variable = DEMAND_silver_reserve_accumulation_basis
			}
		}
		value = owner.var:DEMAND_silver_reserve_accumulation_basis
	}
	else = {
		value = 1 # Error dodger
	}
	# Reduce the effective demand based on the shortage
	# multiply = DEMAND_shortage_silver_inverse ## ## NOTE: Removed because this causes major instability in prices
	# Scale the demand to the governorship's proportion of the country's population
	add = GOODS_governorship_silver_produced
	multiply = var:governorship_population
	divide = owner.country_population
}
DEMAND_silver_reserve_accumulation_basis = {
	# Scope: Country
	# Function: Get the gold reserve target minus current size divided by the number of governorships, to avoid calculating this every iteration when getting DEMAND_gold_reserve_accumulation_rate. This value is cached.
	value = var:silver_accumulation_rate
	divide = FUNC_num_governorships
}
DEMAND_shortage_silver_inverse = {
	# Scope: Governorship
	# Function: Get the inverse of the shortage of silver, so that the outcome is lower the higher the shortage
	value = 1
	if = {
		limit = {
			has_variable = shortage_silver
		}
		subtract = var:shortage_silver
	}
}

DEMAND_silver_base_minus_silver_reserve_demand = {
	value = DEMAND_silver
	subtract = DEMAND_silver_reserve_accumulation_rate
}
DEMAND_silver_for_reserve_divided_by_base_demand = {
	value = DEMAND_silver_reserve_accumulation_rate
	divide = DEMAND_silver_base_minus_silver_reserve_demand
}


DEMAND_dye = { # Total
	value = 0
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_clothing
		}
		add = var:COTTAGEIND_produced_clothing
	}
	multiply = 0.5
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_luxury_clothing
		}
		add = var:COTTAGEIND_produced_luxury_clothing
	}
	multiply = 0.5
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_luxury_clothing
		}
		add = INDUSTRY_demand_luxury_clothing_dye
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_clothing
		}
		add = INDUSTRY_demand_clothing_dye
	}
}
DEMAND_lead = { # Total
	value = 0
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_early_munitions
		}
		add = var:COTTAGEIND_produced_early_munitions
	}
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_luxury_clothing # Cosmetics
		}
		add = var:COTTAGEIND_produced_luxury_clothing
	}
	every_governorship_state = {
		every_state_province = {
			add = INF_sewer_infrastructure
		}
	}
	multiply = 0.2
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_early_munitions
		}
		add = INDUSTRY_demand_early_munitions_lead
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_glass
		}
		add = INDUSTRY_demand_glass_lead
	}
}
DEMAND_oil = { # Total
	value = 0
	if = {
		limit = {
			has_variable = DEMAND_from_industry_oil
		}
		add = var:DEMAND_from_industry_oil
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_machine_parts
		}
		add = INDUSTRY_demand_machine_parts_oil
	}
}
DEMAND_hardwood = { # Total
	value = 0
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_luxury_furniture
		}
		add = var:COTTAGEIND_produced_luxury_furniture
	}
	if = {
		limit = {
			has_variable = DEMAND_from_industry_hardwood
		}
		add = var:DEMAND_from_industry_hardwood
	}
}
DEMAND_rubber = { # Total
	value = 0
	if = {
		limit = {
			has_variable = DEMAND_from_industry_rubber
		}
		add = var:DEMAND_from_industry_rubber
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_machine_parts
		}
		add = INDUSTRY_demand_machine_parts_rubber
	}
}
DEMAND_salt = { # Total
	value = 0
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_naval_supplies
		}
		add = var:COTTAGEIND_produced_naval_supplies
	}
	multiply = 0.5
	add = DEMAND_consumer_tiny
	if = {
		limit = {
			has_variable = DEMAND_from_industry_salt
		}
		add = var:DEMAND_from_industry_salt
	}
}
DEMAND_electronics = { # Total
	value = 0
	if = {
		limit = {
			has_variable = DEMAND_from_industry_salt
		}
		add = var:DEMAND_from_industry_salt
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_machine_parts
		}
		add = INDUSTRY_demand_machine_parts_electronics
	}
}
DEMAND_construction_materials = { # Total
	value = 0
	every_governorship_state = {
		every_state_province = {
			add = JOBS_non_subsistence # from buildings
		}
	}
	multiply = 0.02
	if = {
		limit = {
			has_variable = DEMAND_from_industry_construction_materials
		}
		add = var:DEMAND_from_industry_construction_materials
	}
}
DEMAND_steel = { # Total
	value = 0
	if = {
		limit = {
			has_variable = DEMAND_from_industry_steel
		}
		add = var:DEMAND_from_industry_steel
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_machine_parts
		}
		add = INDUSTRY_demand_machine_parts_steel
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_naval_supplies
		}
		add = INDUSTRY_demand_naval_supplies_steel
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_early_munitions
		}
		add = INDUSTRY_demand_early_munitions_steel
	}
}
DEMAND_bronze = { # Total
	value = 0
	if = {
		limit = {
			has_variable = COTTAGEIND_produced_early_artillery
		}
		add = var:COTTAGEIND_produced_early_artillery
	}
	multiply = 0.5
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_machine_parts
		}
		add = INDUSTRY_demand_machine_parts_bronze
	}
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_naval_supplies
		}
		add = INDUSTRY_naval_supplies_parts_bronze
	}
}
DEMAND_machine_parts = { # Total
	value = 0
	every_governorship_state = {
		every_state_province = {
			add = num_of_IND_industrial_estate
		}
	}
	multiply = 3
	# Demanded as a bonus by all factories
	if = {
		limit = {
			has_variable = DEMAND_from_industry_machine_parts
		}
		add = var:DEMAND_from_industry_machine_parts
	}
}
DEMAND_chemicals = { # Total
	value = 0
	if = {
		limit = {
			has_variable = DEMAND_from_industry_chemicals
		}
		add = var:DEMAND_from_industry_chemicals
	}
}
DEMAND_naval_supplies = { # Total
	value = 0
	owner = {
		if = {
			limit = {
				ROOT.FUNC_num_governorships_with_ports > 0
				num_of_ships > 0
			}
			add = num_of_ships
			divide = FUNC_num_governorships_with_ports
		}
	}
	every_governorship_state = {
		every_state_province = {
			add = num_of_port_building
			add = num_of_river_port_building
		}
	}
	if = {
		limit = {
			has_variable = DEMAND_from_industry_naval_supplies
		}
		add = var:DEMAND_from_industry_naval_supplies
	}
}

DEMAND_navy_ratio_steel_ships = {
	value = 0
	# TODO
	# Create a system to total up how many of a country's ships are wooden vs steel
}
DEMAND_navy_ratio_wooden_ships = {
	value = 1
	# TODO
	# Create a system to total up how many of a country's ships are wooden vs steel
}

DEMAND_steel_ships = { # Total
	value = 0
	if = {
		limit = {
			any_governorship_state = {
				any_state_province = {
					num_of_port_building > 0
				}
			}
		}
		owner = {
			value = num_of_ships
			if = {
				limit = {
					FUNC_num_governorships_with_ports > 0
				}
				divide = FUNC_num_governorships_with_ports
			}
		}
		multiply = DEMAND_navy_ratio_steel_ships
	}
}
DEMAND_wooden_ships = { # Total
	value = 0
	if = {
		limit = {
			any_governorship_state = {
				any_state_province = {
					num_of_port_building > 0
				}
			}
		}
		owner = {
			value = num_of_ships
			if = {
				limit = {
					FUNC_num_governorships_with_ports > 0
				}
				divide = FUNC_num_governorships_with_ports
			}
		}
		multiply = DEMAND_navy_ratio_wooden_ships
	}
	every_governorship_state = {
		every_state_province = {
			add = {
				value = num_of_port_building
				multiply = 4
			}
		}
	}
	multiply = 0.25
}


DEMAND_petrochemicals = { # Total
	value = 0
	if = {
		limit = {
			has_variable = DEMAND_from_industry_petrochemicals
		}
		add = var:DEMAND_from_industry_petrochemicals
	}
}

DEMAND_army_ratio_early_munitions = {
	value = 1
	# TODO
	# Create a system to total up how many of a country's units are using early vs late munitions
}
DEMAND_army_ratio_late_munitions = {
	value = 0
	# TODO
	# Create a system to total up how many of a country's units are using early vs late munitions
}

DEMAND_early_munitions = { # Total
	value = 0
	owner = {
		value = num_of_cohorts
	}
	every_governorship_state = {
		every_state_province = {
			add = num_of_fortress_building
		}
	}
	multiply = DEMAND_army_ratio_early_munitions
	multiply = FUNC_governorship_ratio_national_forts
}
DEMAND_late_munitions = { # Total
	value = 0
	owner = {
		value = num_of_cohorts
	}
	every_governorship_state = {
		every_state_province = {
			add = num_of_fortress_building
		}
	}
	multiply = DEMAND_army_ratio_late_munitions
	multiply = FUNC_governorship_ratio_national_forts
}


DEMAND_early_artillery = { # Total
	value = 0
	owner = {
		value = num_of_cohorts # TODO: Should be num_of_unit_type artillery, once created
	}
	every_governorship_state = {
		every_state_province = {
			add = num_of_fortress_building
		}
	}
	multiply = 2
	multiply = FUNC_governorship_ratio_national_forts
	multiply = 0.1 # TODO: Should be num_of_unit_type artillery, once created. Remove this multiplier
}
DEMAND_late_artillery = { # Total
	value = 0
	#owner = {
#		value = num_of_cohorts # TODO: Should be num_of_unit_type artillery, once created
	#}
	#every_governorship_state = {
	#	every_state_province = {
	#		add = num_of_fortress_building
	#	}
	#}
	#multiply = FUNC_governorship_ratio_national_forts
	#multiply = 0 # TODO: Should be num_of_unit_type artillery, once created. Remove this multiplier
}

DEMAND_rare_alloys = { # Total
	value = 0
	if = {
		limit = {
			has_variable = INDUSTRY_factories_assigned_machine_parts
		}
		add = INDUSTRY_demand_machine_parts_rare_alloys
	}
}

TRADE_governorship_trade_capacity_negative = { # Used as the inverse cap for importing rather than exporting
	value = TRADE_governorship_trade_capacity
	multiply = -1
}

## Demand difference for export values
# Applies max of trade infrastructure capacity to the demand difference
# Represents how much of a good can be physically imported or exported

DEMAND_difference_infrastructure_capped_grain = {
	value = DEMAND_difference_grain
	if = {
		limit = {
			DEMAND_difference_grain > 0
		}
		subtract = DEMAND_consumer_grain
	}
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_fish = {
	value = DEMAND_difference_fish
	if = {
		limit = {
			DEMAND_difference_fish > 0
		}
		subtract = DEMAND_consumer_fish
	}
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_livestock = {
	value = DEMAND_difference_livestock
	if = {
		limit = {
			DEMAND_difference_livestock > 0
		}
		subtract = DEMAND_consumer_livestock
	}
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_vegetables = {
	value = DEMAND_difference_vegetables
	if = {
		limit = {
			DEMAND_difference_vegetables > 0
		}
		subtract = DEMAND_consumer_vegetables
	}
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_temperate_fruit = {
	value = DEMAND_difference_temperate_fruit
	if = {
		limit = {
			DEMAND_difference_temperate_fruit > 0
		}
		subtract = DEMAND_consumer_temperate_fruit
	}
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_processed_foods = {
	value = DEMAND_difference_processed_foods
	if = {
		limit = {
			DEMAND_difference_processed_foods > 0
		}
		subtract = DEMAND_consumer_processed_foods
	}
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_clothing = {
	value = DEMAND_difference_clothing
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_furniture = {
	value = DEMAND_difference_furniture
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_pharmaceuticals = {
	value = DEMAND_difference_pharmaceuticals
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_coal = {
	value = DEMAND_difference_coal
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_whales = {
	value = DEMAND_difference_whales
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_alcohol = {
	value = DEMAND_difference_alcohol
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_gems = {
	value = DEMAND_difference_gems
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_opium = {
	value = DEMAND_difference_opium
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_tobacco = {
	value = DEMAND_difference_tobacco
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_chocolate = {
	value = DEMAND_difference_chocolate
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_coffee = {
	value = DEMAND_difference_coffee
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_tea = {
	value = DEMAND_difference_tea
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_spices = {
	value = DEMAND_difference_spices
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_sugar = {
	value = DEMAND_difference_sugar
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_luxury_clothing = {
	value = DEMAND_difference_luxury_clothing
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_luxury_furniture = {
	value = DEMAND_difference_luxury_furniture
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_glass = {
	value = DEMAND_difference_glass
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_motors = {
	value = DEMAND_difference_motors
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_fur = {
	value = DEMAND_difference_fur
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_industrial_fibres = {
	value = DEMAND_difference_industrial_fibres
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_textile_fibres = {
	value = DEMAND_difference_textile_fibres
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_wool = {
	value = DEMAND_difference_wool
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_silk = {
	value = DEMAND_difference_silk
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_wood = {
	value = DEMAND_difference_wood
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_stone = {
	value = DEMAND_difference_stone
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_sulphur = {
	value = DEMAND_difference_sulphur
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_peat = {
	value = DEMAND_difference_peat
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_tin = {
	value = DEMAND_difference_tin
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_inorganic_compounds = {
	value = DEMAND_difference_inorganic_compounds
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_copper = {
	value = DEMAND_difference_copper
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_iron = {
	value = DEMAND_difference_iron
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_gold = {
	value = DEMAND_difference_gold
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_silver = {
	value = DEMAND_difference_silver
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_dye = {
	value = DEMAND_difference_dye
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_lead = {
	value = DEMAND_difference_lead
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_oil = {
	value = DEMAND_difference_oil
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_hardwood = {
	value = DEMAND_difference_hardwood
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_rubber = {
	value = DEMAND_difference_rubber
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_salt = {
	value = DEMAND_difference_salt
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_electronics = {
	value = DEMAND_difference_electronics
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_construction_materials = {
	value = DEMAND_difference_construction_materials
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_steel = {
	value = DEMAND_difference_steel
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_bronze = {
	value = DEMAND_difference_bronze
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_machine_parts = {
	value = DEMAND_difference_machine_parts
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_chemicals = {
	value = DEMAND_difference_chemicals
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_naval_supplies = {
	value = DEMAND_difference_naval_supplies
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_steel_ships = {
	value = DEMAND_difference_steel_ships
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_wooden_ships = {
	value = DEMAND_difference_wooden_ships
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_petrochemicals = {
	value = DEMAND_difference_petrochemicals
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_early_munitions = {
	value = DEMAND_difference_early_munitions
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_late_munitions = {
	value = DEMAND_difference_late_munitions
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_early_artillery = {
	value = DEMAND_difference_early_artillery
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

DEMAND_difference_infrastructure_capped_late_artillery = {
	value = DEMAND_difference_late_artillery
	max = TRADE_governorship_trade_capacity
	min = TRADE_governorship_trade_capacity_negative
}

## Demand difference values
# Production minus demand, showing either surplus or deficit

DEMAND_difference_grain = {
	value = GOODS_governorship_grain_produced
	if = {
		limit = { has_global_variable = first_time_price_setup_done }
		subtract = DEMAND_actual_grain
	}
	else = {
		subtract = DEMAND_grain
	}
}
DEMAND_difference_fish = {
	value = GOODS_governorship_fish_produced
	if = {
		limit = { has_global_variable = first_time_price_setup_done }
		subtract = DEMAND_actual_fish
	}
	else = {
		subtract = DEMAND_fish
	}
}
DEMAND_difference_livestock = {
	value = GOODS_governorship_livestock_produced
	if = {
		limit = { has_global_variable = first_time_price_setup_done }
		subtract = DEMAND_actual_livestock
	}
	else = {
		subtract = DEMAND_livestock
	}
}
DEMAND_difference_tropical_fruit = {
	value = GOODS_governorship_tropical_fruit_produced
	if = {
		limit = { has_global_variable = first_time_price_setup_done }
		subtract = DEMAND_actual_tropical_fruit
	}
	else = {
		subtract = DEMAND_tropical_fruit
	}
}
DEMAND_difference_mediterranean_fruit = {
	value = GOODS_governorship_mediterranean_fruit_produced
	if = {
		limit = { has_global_variable = first_time_price_setup_done }
		subtract = DEMAND_actual_mediterranean_fruit
	}
	else = {
		subtract = DEMAND_mediterranean_fruit
	}
}
DEMAND_difference_temperate_fruit = {
	value = GOODS_governorship_temperate_fruit_produced
	if = {
		limit = { has_global_variable = first_time_price_setup_done }
		subtract = DEMAND_actual_temperate_fruit
	}
	else = {
		subtract = DEMAND_temperate_fruit
	}
}
DEMAND_difference_vegetables = {
	value = GOODS_governorship_vegetables_produced
	if = {
		limit = { has_global_variable = first_time_price_setup_done }
		subtract = DEMAND_actual_vegetables
	}
	else = {
		subtract = DEMAND_vegetables
	}
}
DEMAND_difference_processed_foods = {
	value = GOODS_governorship_processed_foods_produced
	if = {
		limit = { has_global_variable = first_time_price_setup_done }
		subtract = DEMAND_actual_processed_foods
	}
	else = {
		subtract = DEMAND_processed_foods
	}
}
DEMAND_difference_clothing = {
	value = GOODS_governorship_clothing_produced
	subtract = DEMAND_clothing
}
DEMAND_difference_furniture = {
	value = GOODS_governorship_furniture_produced
	subtract = DEMAND_furniture
}
DEMAND_difference_pharmaceuticals = {
	value = GOODS_governorship_pharmaceuticals_produced
	subtract = DEMAND_pharmaceuticals
}
DEMAND_difference_coal = {
	value = GOODS_governorship_coal_produced
	subtract = DEMAND_coal
}
DEMAND_difference_whales = {
	value = GOODS_governorship_whales_produced
	subtract = DEMAND_whales
}
DEMAND_difference_alcohol = {
	value = GOODS_governorship_alcohol_produced
	subtract = DEMAND_alcohol
}
DEMAND_difference_gems = {
	value = GOODS_governorship_gems_produced
	subtract = DEMAND_gems
}
DEMAND_difference_opium = {
	value = GOODS_governorship_opium_produced
	subtract = DEMAND_opium
}
DEMAND_difference_tobacco = {
	value = GOODS_governorship_tobacco_produced
	subtract = DEMAND_tobacco
}
DEMAND_difference_chocolate = {
	value = GOODS_governorship_chocolate_produced
	subtract = DEMAND_chocolate
}
DEMAND_difference_coffee = {
	value = GOODS_governorship_coffee_produced
	subtract = DEMAND_coffee
}
DEMAND_difference_tea = {
	value = GOODS_governorship_tea_produced
	subtract = DEMAND_tea
}
DEMAND_difference_spices = {
	value = GOODS_governorship_spices_produced
	subtract = DEMAND_spices
}
DEMAND_difference_sugar = {
	value = GOODS_governorship_sugar_produced
	subtract = DEMAND_sugar
}
DEMAND_difference_luxury_clothing = {
	value = GOODS_governorship_luxury_clothing_produced
	subtract = DEMAND_luxury_clothing
}
DEMAND_difference_luxury_furniture = {
	value = GOODS_governorship_luxury_furniture_produced
	subtract = DEMAND_luxury_furniture
}
DEMAND_difference_glass = {
	value = GOODS_governorship_glass_produced
	subtract = DEMAND_glass
}
DEMAND_difference_motors = {
	value = GOODS_governorship_motors_produced
	subtract = DEMAND_motors
}
DEMAND_difference_fur = {
	value = GOODS_governorship_fur_produced
	subtract = DEMAND_fur
}
DEMAND_difference_industrial_fibres = {
	value = GOODS_governorship_industrial_fibres_produced
	subtract = DEMAND_industrial_fibres
}
DEMAND_difference_textile_fibres = {
	value = GOODS_governorship_textile_fibres_produced
	subtract = DEMAND_textile_fibres
}
DEMAND_difference_wool = {
	value = GOODS_governorship_wool_produced
	subtract = DEMAND_wool
}
DEMAND_difference_silk = {
	value = GOODS_governorship_silk_produced
	subtract = DEMAND_silk
}
DEMAND_difference_wood = {
	value = GOODS_governorship_wood_produced
	subtract = DEMAND_wood
}
DEMAND_difference_stone = {
	value = GOODS_governorship_stone_produced
	subtract = DEMAND_stone
}
DEMAND_difference_sulphur = {
	value = GOODS_governorship_sulphur_produced
	subtract = DEMAND_sulphur
}
DEMAND_difference_peat = {
	value = GOODS_governorship_peat_produced
	subtract = DEMAND_peat
}
DEMAND_difference_tin = {
	value = GOODS_governorship_tin_produced
	subtract = DEMAND_tin
}
DEMAND_difference_inorganic_compounds = {
	value = GOODS_governorship_inorganic_compounds_produced
	subtract = DEMAND_inorganic_compounds
}
DEMAND_difference_copper = {
	value = GOODS_governorship_copper_produced
	subtract = DEMAND_copper
}
DEMAND_difference_iron = {
	value = GOODS_governorship_iron_produced
	subtract = DEMAND_iron
}
DEMAND_difference_gold = {
	value = GOODS_governorship_gold_produced
	subtract = DEMAND_gold
}
DEMAND_difference_silver = {
	value = GOODS_governorship_silver_produced
	subtract = DEMAND_silver
}
DEMAND_difference_dye = {
	value = GOODS_governorship_dye_produced
	subtract = DEMAND_dye
}
DEMAND_difference_lead = {
	value = GOODS_governorship_lead_produced
	subtract = DEMAND_lead
}
DEMAND_difference_oil = {
	value = GOODS_governorship_oil_produced
	subtract = DEMAND_oil
}
DEMAND_difference_hardwood = {
	value = GOODS_governorship_hardwood_produced
	subtract = DEMAND_hardwood
}
DEMAND_difference_rubber = {
	value = GOODS_governorship_rubber_produced
	subtract = DEMAND_rubber
}
DEMAND_difference_salt = {
	value = GOODS_governorship_salt_produced
	subtract = DEMAND_salt
}
DEMAND_difference_electronics = {
	value = GOODS_governorship_electronics_produced
	subtract = DEMAND_electronics
}
DEMAND_difference_construction_materials = {
	value = GOODS_governorship_construction_materials_produced
	subtract = DEMAND_construction_materials
}
DEMAND_difference_steel = {
	value = GOODS_governorship_steel_produced
	subtract = DEMAND_steel
}
DEMAND_difference_bronze = {
	value = GOODS_governorship_bronze_produced
	subtract = DEMAND_bronze
}
DEMAND_difference_machine_parts = {
	value = GOODS_governorship_machine_parts_produced
	subtract = DEMAND_machine_parts
}
DEMAND_difference_chemicals = {
	value = GOODS_governorship_chemicals_produced
	subtract = DEMAND_chemicals
}
DEMAND_difference_naval_supplies = {
	value = GOODS_governorship_naval_supplies_produced
	subtract = DEMAND_naval_supplies
}
DEMAND_difference_steel_ships = {
	value = GOODS_governorship_steel_ships_produced
	subtract = DEMAND_steel_ships
}
DEMAND_difference_wooden_ships = {
	value = GOODS_governorship_wooden_ships_produced
	subtract = DEMAND_wooden_ships
}
DEMAND_difference_petrochemicals = {
	value = GOODS_governorship_petrochemicals_produced
	subtract = DEMAND_petrochemicals
}
DEMAND_difference_early_munitions = {
	value = GOODS_governorship_early_munitions_produced
	subtract = DEMAND_early_munitions
}
DEMAND_difference_late_munitions = {
	value = GOODS_governorship_late_munitions_produced
	subtract = DEMAND_late_munitions
}
DEMAND_difference_early_artillery = {
	value = GOODS_governorship_early_artillery_produced
	subtract = DEMAND_early_artillery
}
DEMAND_difference_late_artillery = {
	value = GOODS_governorship_late_artillery_produced
	subtract = DEMAND_late_artillery
}
DEMAND_difference_rare_alloys = {
	value = GOODS_governorship_rare_alloys_produced
	subtract = DEMAND_rare_alloys
}

# National values

total_country_governorships = {
	every_governorships = {
		add = 1
	}
}

DEMAND_country_grain = {
  every_governorships = {
    add = DEMAND_grain
  }
}

DEMAND_shortage_country_grain = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_grain
  		}
  		add = var:shortage_grain
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_grain
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_fish = {
  every_governorships = {
    add = DEMAND_fish
  }
}

DEMAND_shortage_country_fish = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_fish
  		}
  		add = var:shortage_fish
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_fish
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_livestock = {
  every_governorships = {
    add = DEMAND_livestock
  }
}

DEMAND_shortage_country_livestock = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_livestock
  		}
  		add = var:shortage_livestock
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_livestock
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_vegetables = {
  every_governorships = {
    add = DEMAND_vegetables
  }
}

DEMAND_shortage_country_vegetables = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_vegetables
  		}
  		add = var:shortage_vegetables
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_vegetables
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_tropical_fruit = {
  every_governorships = {
    add = DEMAND_tropical_fruit
  }
}

DEMAND_shortage_country_tropical_fruit = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_tropical_fruit
  		}
  		add = var:shortage_tropical_fruit
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_tropical_fruit
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_mediterranean_fruit = {
  every_governorships = {
    add = DEMAND_mediterranean_fruit
  }
}

DEMAND_shortage_country_mediterranean_fruit = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_mediterranean_fruit
  		}
  		add = var:shortage_mediterranean_fruit
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_mediterranean_fruit
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_temperate_fruit = {
  every_governorships = {
    add = DEMAND_temperate_fruit
  }
}

DEMAND_shortage_country_temperate_fruit = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_temperate_fruit
  		}
  		add = var:shortage_temperate_fruit
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_temperate_fruit
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_processed_foods = {
  every_governorships = {
    add = DEMAND_processed_foods
  }
}

DEMAND_shortage_country_processed_foods = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_processed_foods
  		}
  		add = var:shortage_processed_foods
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_processed_foods
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_clothing = {
  every_governorships = {
    add = DEMAND_clothing
  }
}

DEMAND_shortage_country_clothing = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_clothing
  		}
  		add = var:shortage_clothing
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_clothing
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_furniture = {
  every_governorships = {
    add = DEMAND_furniture
  }
}

DEMAND_shortage_country_furniture = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_furniture
  		}
  		add = var:shortage_furniture
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_furniture
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_pharmaceuticals = {
  every_governorships = {
    add = DEMAND_pharmaceuticals
  }
}

DEMAND_shortage_country_pharmaceuticals = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_pharmaceuticals
  		}
  		add = var:shortage_pharmaceuticals
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_pharmaceuticals
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_coal = {
  every_governorships = {
    add = DEMAND_coal
  }
}

DEMAND_shortage_country_coal = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_coal
  		}
  		add = var:shortage_coal
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_coal
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_whales = {
  every_governorships = {
    add = DEMAND_whales
  }
}

DEMAND_shortage_country_whales = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_whales
  		}
  		add = var:shortage_whales
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_whales
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_alcohol = {
  every_governorships = {
    add = DEMAND_alcohol
  }
}

DEMAND_shortage_country_alcohol = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_alcohol
  		}
  		add = var:shortage_alcohol
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_alcohol
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_gems = {
  every_governorships = {
    add = DEMAND_gems
  }
}

DEMAND_shortage_country_gems = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_gems
  		}
  		add = var:shortage_gems
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_gems
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_opium = {
  every_governorships = {
    add = DEMAND_opium
  }
}

DEMAND_shortage_country_opium = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_opium
  		}
  		add = var:shortage_opium
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_opium
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_tobacco = {
  every_governorships = {
    add = DEMAND_tobacco
  }
}

DEMAND_shortage_country_tobacco = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_tobacco
  		}
  		add = var:shortage_tobacco
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_tobacco
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_chocolate = {
  every_governorships = {
    add = DEMAND_chocolate
  }
}

DEMAND_shortage_country_chocolate = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_chocolate
  		}
  		add = var:shortage_chocolate
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_chocolate
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_coffee = {
  every_governorships = {
    add = DEMAND_coffee
  }
}

DEMAND_shortage_country_coffee = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_coffee
  		}
  		add = var:shortage_coffee
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_coffee
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_tea = {
  every_governorships = {
    add = DEMAND_tea
  }
}

DEMAND_shortage_country_tea = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_tea
  		}
  		add = var:shortage_tea
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_tea
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_spices = {
  every_governorships = {
    add = DEMAND_spices
  }
}

DEMAND_shortage_country_spices = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_spices
  		}
  		add = var:shortage_spices
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_spices
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_sugar = {
  every_governorships = {
    add = DEMAND_sugar
  }
}

DEMAND_shortage_country_sugar = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_sugar
  		}
  		add = var:shortage_sugar
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_sugar
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_luxury_clothing = {
  every_governorships = {
    add = DEMAND_luxury_clothing
  }
}

DEMAND_shortage_country_luxury_clothing = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_luxury_clothing
  		}
  		add = var:shortage_luxury_clothing
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_luxury_clothing
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_luxury_furniture = {
  every_governorships = {
    add = DEMAND_luxury_furniture
  }
}

DEMAND_shortage_country_luxury_furniture = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_luxury_furniture
  		}
  		add = var:shortage_luxury_furniture
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_luxury_furniture
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_glass = {
  every_governorships = {
    add = DEMAND_glass
  }
}

DEMAND_shortage_country_glass = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_glass
  		}
  		add = var:shortage_glass
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_glass
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_motors = {
  every_governorships = {
    add = DEMAND_motors
  }
}

DEMAND_shortage_country_motors = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_motors
  		}
  		add = var:shortage_motors
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_motors
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_fur = {
  every_governorships = {
    add = DEMAND_fur
  }
}

DEMAND_shortage_country_fur = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_fur
  		}
  		add = var:shortage_fur
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_fur
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_industrial_fibres = {
  every_governorships = {
    add = DEMAND_industrial_fibres
  }
}

DEMAND_shortage_country_industrial_fibres = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_industrial_fibres
  		}
  		add = var:shortage_industrial_fibres
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_industrial_fibres
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_textile_fibres = {
  every_governorships = {
    add = DEMAND_textile_fibres
  }
}

DEMAND_shortage_country_textile_fibres = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_textile_fibres
  		}
  		add = var:shortage_textile_fibres
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_textile_fibres
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_wool = {
  every_governorships = {
    add = DEMAND_wool
  }
}

DEMAND_shortage_country_wool = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_wool
  		}
  		add = var:shortage_wool
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_wool
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_silk = {
  every_governorships = {
    add = DEMAND_silk
  }
}

DEMAND_shortage_country_silk = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_silk
  		}
  		add = var:shortage_silk
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_silk
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_wood = {
  every_governorships = {
    add = DEMAND_wood
  }
}

DEMAND_shortage_country_wood = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_wood
  		}
  		add = var:shortage_wood
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_wood
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_stone = {
  every_governorships = {
    add = DEMAND_stone
  }
}

DEMAND_shortage_country_stone = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_stone
  		}
  		add = var:shortage_stone
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_stone
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_sulphur = {
  every_governorships = {
    add = DEMAND_sulphur
  }
}

DEMAND_shortage_country_sulphur = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_sulphur
  		}
  		add = var:shortage_sulphur
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_sulphur
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_peat = {
  every_governorships = {
    add = DEMAND_peat
  }
}

DEMAND_shortage_country_peat = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_peat
  		}
  		add = var:shortage_peat
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_peat
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_tin = {
  every_governorships = {
    add = DEMAND_tin
  }
}

DEMAND_shortage_country_tin = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_tin
  		}
  		add = var:shortage_tin
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_tin
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_inorganic_compounds = {
  every_governorships = {
    add = DEMAND_inorganic_compounds
  }
}

DEMAND_shortage_country_inorganic_compounds = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_inorganic_compounds
  		}
  		add = var:shortage_inorganic_compounds
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_inorganic_compounds
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_copper = {
  every_governorships = {
    add = DEMAND_copper
  }
}

DEMAND_shortage_country_copper = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_copper
  		}
  		add = var:shortage_copper
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_copper
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_iron = {
  every_governorships = {
    add = DEMAND_iron
  }
}

DEMAND_shortage_country_iron = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_iron
  		}
  		add = var:shortage_iron
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_iron
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_gold = {
  every_governorships = {
    add = DEMAND_gold
  }
}

DEMAND_shortage_country_gold = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_gold
  		}
  		add = var:shortage_gold
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_gold
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_silver = {
  every_governorships = {
    add = DEMAND_silver
  }
}

DEMAND_shortage_country_silver = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_silver
  		}
  		add = var:shortage_silver
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_silver
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_dye = {
  every_governorships = {
    add = DEMAND_dye
  }
}

DEMAND_shortage_country_dye = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_dye
  		}
  		add = var:shortage_dye
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_dye
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_lead = {
  every_governorships = {
    add = DEMAND_lead
  }
}

DEMAND_shortage_country_lead = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_lead
  		}
  		add = var:shortage_lead
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_lead
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_oil = {
  every_governorships = {
    add = DEMAND_oil
  }
}

DEMAND_shortage_country_oil = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_oil
  		}
  		add = var:shortage_oil
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_oil
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_hardwood = {
  every_governorships = {
    add = DEMAND_hardwood
  }
}

DEMAND_shortage_country_hardwood = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_hardwood
  		}
  		add = var:shortage_hardwood
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_hardwood
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_rubber = {
  every_governorships = {
    add = DEMAND_rubber
  }
}

DEMAND_shortage_country_rubber = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_rubber
  		}
  		add = var:shortage_rubber
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_rubber
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_salt = {
  every_governorships = {
    add = DEMAND_salt
  }
}

DEMAND_shortage_country_salt = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_salt
  		}
  		add = var:shortage_salt
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_salt
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_electronics = {
  every_governorships = {
    add = DEMAND_electronics
  }
}

DEMAND_shortage_country_electronics = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_electronics
  		}
  		add = var:shortage_electronics
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_electronics
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_construction_materials = {
  every_governorships = {
    add = DEMAND_construction_materials
  }
}

DEMAND_shortage_country_construction_materials = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_construction_materials
  		}
  		add = var:shortage_construction_materials
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_construction_materials
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_steel = {
  every_governorships = {
    add = DEMAND_steel
  }
}

DEMAND_shortage_country_steel = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_steel
  		}
  		add = var:shortage_steel
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_steel
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_bronze = {
  every_governorships = {
    add = DEMAND_bronze
  }
}

DEMAND_shortage_country_bronze = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_bronze
  		}
  		add = var:shortage_bronze
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_bronze
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_machine_parts = {
  every_governorships = {
    add = DEMAND_machine_parts
  }
}

DEMAND_shortage_country_machine_parts = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_machine_parts
  		}
  		add = var:shortage_machine_parts
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_machine_parts
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_chemicals = {
  every_governorships = {
    add = DEMAND_chemicals
  }
}

DEMAND_shortage_country_chemicals = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_chemicals
  		}
  		add = var:shortage_chemicals
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_chemicals
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_naval_supplies = {
  every_governorships = {
    add = DEMAND_naval_supplies
  }
}

DEMAND_shortage_country_naval_supplies = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_naval_supplies
  		}
  		add = var:shortage_naval_supplies
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_naval_supplies
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_steel_ships = {
  every_governorships = {
    add = DEMAND_steel_ships
  }
}

DEMAND_shortage_country_steel_ships = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_steel_ships
  		}
  		add = var:shortage_steel_ships
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_steel_ships
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_wooden_ships = {
  every_governorships = {
    add = DEMAND_wooden_ships
  }
}

DEMAND_shortage_country_wooden_ships = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_wooden_ships
  		}
  		add = var:shortage_wooden_ships
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_wooden_ships
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_petrochemicals = {
  every_governorships = {
    add = DEMAND_petrochemicals
  }
}

DEMAND_shortage_country_petrochemicals = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_petrochemicals
  		}
  		add = var:shortage_petrochemicals
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_petrochemicals
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_early_munitions = {
  every_governorships = {
    add = DEMAND_early_munitions
  }
}

DEMAND_shortage_country_early_munitions = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_early_munitions
  		}
  		add = var:shortage_early_munitions
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_early_munitions
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_late_munitions = {
  every_governorships = {
    add = DEMAND_late_munitions
  }
}

DEMAND_shortage_country_late_munitions = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_late_munitions
  		}
  		add = var:shortage_late_munitions
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_late_munitions
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_early_artillery = {
  every_governorships = {
    add = DEMAND_early_artillery
  }
}

DEMAND_shortage_country_early_artillery = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_early_artillery
  		}
  		add = var:shortage_early_artillery
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_early_artillery
  		}
  	
  	}
  	divide = total_country_governorships
  }
}
DEMAND_country_late_artillery = {
  every_governorships = {
    add = DEMAND_late_artillery
  }
}

DEMAND_shortage_country_late_artillery = {
  every_governorships = {
  	if = {
  		limit = {
  			has_variable = shortage_late_artillery
  		}
  		add = var:shortage_late_artillery
  	}
  }
  if = {
  	limit = {
  		any_governorships = {
  			has_variable = shortage_late_artillery
  		}
  	
  	}
  	divide = total_country_governorships
  }
}