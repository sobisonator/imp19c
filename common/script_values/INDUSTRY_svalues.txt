# Scope: province

INDUSTRY_province_industry_capacity = { 
	# Scope: Province
	# Represent the province's capacity for industries to transport goods
	value = 1 # By default every province can support 1
	if = {
		limit = {
			OR = {
				terrain = extreme_mountain
				terrain = extreme_desert
				terrain = boreal_forest
			}
		}
		subtract = 4
	}
	if = {
		limit = {
			has_minor_river = yes
		}
		add = 1
	}
	if = {
		limit = {
			has_province_rank = city
		}
		add = 1
	}
	if = {
		limit = {
			has_province_rank = city_metropolis
		}
		add = 1
	}

	add = num_of_INF_canal
	add = num_of_INF_railway_upgrade
	add = num_of_port_building
	add = num_of_river_port_building

	# TODO - errors
	# add = INF_province_industry_capacity_bonus

	min = 0 # No reason to have negative industry capacity
}

INDUSTRY_free_province_industry_slots = {
	value = INDUSTRY_province_industry_capacity
	subtract = num_of_IND_industrial_estate
}

# Scope: governorship

INDUSTRY_governorship_total_industry_slots = {
	value = 0
	every_governorship_state ={
		every_state_province = {
			add = num_of_IND_industrial_estate
		}
	}
}

INDUSTRY_governorship_used_industry_slots = {
	value = 0
	if = {
		limit = {
			has_global_variable = wealth_setup_done
		}
		# add every variable for assigning industry slots to industries
		add = var:INDUSTRY_factories_assigned_clothing
		add = var:INDUSTRY_factories_assigned_luxury_clothing
		add = var:INDUSTRY_factories_assigned_furniture
		add = var:INDUSTRY_factories_assigned_luxury_furniture
		add = var:INDUSTRY_factories_assigned_alcohol
		add = var:INDUSTRY_factories_assigned_glass
		add = var:INDUSTRY_factories_assigned_chemicals
		add = var:INDUSTRY_factories_assigned_rare_alloys
		add = var:INDUSTRY_factories_assigned_construction_materials
		add = var:INDUSTRY_factories_assigned_early_munitions
		add = var:INDUSTRY_factories_assigned_late_munitions
		add = var:INDUSTRY_factories_assigned_naval_supplies
		add = var:INDUSTRY_factories_assigned_steel_ships
		add = var:INDUSTRY_factories_assigned_wooden_ships
		add = var:INDUSTRY_factories_assigned_steel
		add = var:INDUSTRY_factories_assigned_bronze
		add = var:INDUSTRY_factories_assigned_machine_parts
		add = var:INDUSTRY_factories_assigned_early_artillery
		add = var:INDUSTRY_factories_assigned_late_artillery
		add = var:INDUSTRY_factories_assigned_electronics
		add = var:INDUSTRY_factories_assigned_pharmaceuticals
		add = var:INDUSTRY_factories_assigned_motors
		add = var:INDUSTRY_factories_assigned_processed_foods
		add = var:INDUSTRY_factories_assigned_petrochemicals
	}
}

INDUSTRY_governorship_free_industry_slots = {
	value = INDUSTRY_governorship_total_industry_slots
	subtract = INDUSTRY_governorship_used_industry_slots
}

# Scope: governorship

# Variables to svalues

# Add...
# Here convert the variables storing the number of industry slots assigned to each industry
INDUSTRY_clothing_factories = {
	value = var:INDUSTRY_factories_assigned_clothing
}
INDUSTRY_luxury_clothing_factories = {
	value = var:INDUSTRY_factories_assigned_luxury_clothing
}
INDUSTRY_furniture_factories = {
	value = var:INDUSTRY_factories_assigned_furniture
}
INDUSTRY_luxury_furniture_factories = {
	value = var:INDUSTRY_factories_assigned_luxury_furniture
}
INDUSTRY_alcohol_factories = {
	value = var:INDUSTRY_factories_assigned_alcohol
}
INDUSTRY_glass_factories = {
	value = var:INDUSTRY_factories_assigned_glass
}
INDUSTRY_chemicals_factories = {
	value = var:INDUSTRY_factories_assigned_chemicals
}
INDUSTRY_rare_alloys_factories = {
	value = var:INDUSTRY_factories_assigned_rare_alloys
}
INDUSTRY_construction_materials_factories = {
	value = var:INDUSTRY_factories_assigned_construction_materials
}
INDUSTRY_early_munitions_factories = {
	value = var:INDUSTRY_factories_assigned_early_munitions
}
INDUSTRY_late_munitions_factories = {
	value = var:INDUSTRY_factories_assigned_late_munitions
}
INDUSTRY_naval_supplies_factories = {
	value = var:INDUSTRY_factories_assigned_naval_supplies
}
INDUSTRY_steel_ships_factories = {
	value = var:INDUSTRY_factories_assigned_steel_ships
}
INDUSTRY_wooden_ships_factories = {
	value = var:INDUSTRY_factories_assigned_wooden_ships
}
INDUSTRY_steel_factories = {
	value = var:INDUSTRY_factories_assigned_steel
}
INDUSTRY_bronze_factories = {
	value = var:INDUSTRY_factories_assigned_bronze
}
INDUSTRY_machine_parts_factories = {
	value = var:INDUSTRY_factories_assigned_machine_parts
}
INDUSTRY_early_artillery_factories = {
	value = var:INDUSTRY_factories_assigned_early_artillery
}
INDUSTRY_late_artillery_factories = {
	value = var:INDUSTRY_factories_assigned_late_artillery
}
INDUSTRY_electronics_factories = {
	value = var:INDUSTRY_factories_assigned_electronics
}
INDUSTRY_pharmaceuticals_factories = {
	value = var:INDUSTRY_factories_assigned_pharmaceuticals
}
INDUSTRY_motors_factories = {
	value = var:INDUSTRY_factories_assigned_motors
}
INDUSTRY_processed_foods_factories = {
	value = var:INDUSTRY_factories_assigned_processed_foods
}
INDUSTRY_petrochemicals_factories = {
	value = var:INDUSTRY_factories_assigned_petrochemicals
}

# Actual production values
# Scope: Governorship

#################################################
#################################################

## CLOTHING
INDUSTRY_production_rate_clothing = {
	value = 150
}

production_bonus_clothing = {
	# Scope: Country
	# Function: Stores the multiplier to mechanised industrial production
	value = 1
}

INDUSTRY_production_clothing_base = {
	value = INDUSTRY_production_rate_clothing
	multiply = INDUSTRY_clothing_factories
	multiply = owner.production_bonus_clothing

}

INDUSTRY_production_clothing = {
	# Applies modifiers from supply
	value = INDUSTRY_production_clothing_base
	multiply = INDUSTRY_production_clothing_multiplier
}

INDUSTRY_production_clothing_multiplier = {
	value = 1
	add = INDUSTRY_malus_clothing_production_textile_fibres
	add = INDUSTRY_malus_clothing_production_dye
	add = INDUSTRY_malus_clothing_production_livestock
	min = 0
}

INDUSTRY_production_clothing_efficiency = {
	value = INDUSTRY_production_clothing
	divide = INDUSTRY_production_clothing_base
}

# Ingredients

# Textile fibres

INDUSTRY_malus_clothing_production_textile_fibres = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_textile_fibres
		}
		subtract = var:shortage_textile_fibres
		multiply = INDUSTRY_demand_importance_clothing_textile_fibres
	}
}

INDUSTRY_demand_importance_clothing_textile_fibres = {
	# As a percentage of the crucial ingredients
	value = 1
}

INDUSTRY_base_demand_clothing_textile_fibres = {
	value = 30
}

INDUSTRY_demand_clothing_textile_fibres = {
	value = INDUSTRY_clothing_factories
	multiply = INDUSTRY_base_demand_clothing_textile_fibres
}

# Dye

INDUSTRY_malus_clothing_production_dye = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_dye
		}
		subtract = var:shortage_dye
		multiply = INDUSTRY_demand_importance_clothing_dye
	}
}

INDUSTRY_demand_importance_clothing_dye = {
	# As a percentage of the crucial ingredients
	value = 0.25
}

INDUSTRY_base_demand_clothing_dye = {
	value = 10
}

INDUSTRY_demand_clothing_dye = {
	value = INDUSTRY_clothing_factories
	multiply = INDUSTRY_base_demand_clothing_dye
}

# LIVESTOCK (LEATHER)

INDUSTRY_malus_clothing_production_livestock = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_livestock
		}
		subtract = var:shortage_livestock
		multiply = INDUSTRY_demand_importance_clothing_livestock
	}
}

INDUSTRY_demand_importance_clothing_livestock = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 0.15
}

INDUSTRY_base_demand_clothing_livestock = {
	# Units demanded per factory
	value = 5
}

INDUSTRY_demand_clothing_livestock = {
	# Actual units demanded
	value = INDUSTRY_clothing_factories
	multiply = INDUSTRY_base_demand_clothing_livestock
}

## LUXURY CLOTHING
INDUSTRY_production_rate_luxury_clothing = {
	# Base maximum output of one factory for this tradegood, at maximum productivity
	value = 70
}

production_bonus_luxury_clothing = {
	# Scope: Country
	# Function: Stores the multiplier to mechanised industrial production
	value = 1
}

INDUSTRY_production_luxury_clothing_base = {
	# Base output of all factories
	value = INDUSTRY_production_rate_luxury_clothing
	multiply = INDUSTRY_luxury_clothing_factories
	multiply = owner.production_bonus_luxury_clothing

}

INDUSTRY_production_luxury_clothing = {
	# Applies modifiers from supply
	value = INDUSTRY_production_luxury_clothing_base
	multiply = INDUSTRY_production_luxury_clothing_multiplier
}

INDUSTRY_production_luxury_clothing_multiplier = {
	# Base production, minus maluses from ingredient shortages. All ingredient maluses must be listed here
	value = 1
	add = INDUSTRY_malus_luxury_clothing_production_textile_fibres
	add = INDUSTRY_malus_luxury_clothing_production_dye
	add = INDUSTRY_malus_luxury_clothing_production_gold
	add = INDUSTRY_malus_luxury_clothing_production_silver
	add = INDUSTRY_malus_luxury_clothing_production_silk
	add = INDUSTRY_malus_luxury_clothing_production_livestock
	add = INDUSTRY_malus_luxury_clothing_production_gems
	min = 0

}

INDUSTRY_production_luxury_clothing_efficiency = {
	# For displaying the production efficiency as a percentage of possible maximum
	value = INDUSTRY_production_luxury_clothing
	divide = INDUSTRY_production_luxury_clothing_base
}

# Ingredients

# TEXTILE FIBRES

INDUSTRY_malus_luxury_clothing_production_textile_fibres = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_textile_fibres
		}
		subtract = var:shortage_textile_fibres
		multiply = INDUSTRY_demand_importance_luxury_clothing_textile_fibres
	}
}

INDUSTRY_demand_importance_luxury_clothing_textile_fibres = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 1
}

INDUSTRY_base_demand_luxury_clothing_textile_fibres = {
	# Units demanded per factory
	value = 30
}

INDUSTRY_demand_luxury_clothing_textile_fibres = {
	# Actual units demanded
	value = INDUSTRY_luxury_clothing_factories
	multiply = INDUSTRY_base_demand_luxury_clothing_textile_fibres
}

# DYE

INDUSTRY_malus_luxury_clothing_production_dye = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_dye
		}
		subtract = var:shortage_dye
		multiply = INDUSTRY_demand_importance_luxury_clothing_dye
	}
}

INDUSTRY_demand_importance_luxury_clothing_dye = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 0.33
}

INDUSTRY_base_demand_luxury_clothing_dye = {
	# Units demanded per factory
	value = 15
}

INDUSTRY_demand_luxury_clothing_dye = {
	# Actual units demanded
	value = INDUSTRY_luxury_clothing_factories
	multiply = INDUSTRY_base_demand_luxury_clothing_dye
}

# GOLD

INDUSTRY_malus_luxury_clothing_production_gold = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_gold
		}
		subtract = var:shortage_gold
		multiply = INDUSTRY_demand_importance_luxury_clothing_gold
	}
}

INDUSTRY_demand_importance_luxury_clothing_gold = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 0.1
}

INDUSTRY_base_demand_luxury_clothing_gold = {
	# Units demanded per factory
	value = 10
}

INDUSTRY_demand_luxury_clothing_gold = {
	# Actual units demanded
	value = INDUSTRY_luxury_clothing_factories
	multiply = INDUSTRY_base_demand_luxury_clothing_gold
}

# SILVER

INDUSTRY_malus_luxury_clothing_production_silver = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_silver
		}
		subtract = var:shortage_silver
		multiply = INDUSTRY_demand_importance_luxury_clothing_silver
	}
}

INDUSTRY_demand_importance_luxury_clothing_silver = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 0.1
}

INDUSTRY_base_demand_luxury_clothing_silver = {
	# Units demanded per factory
	value = 5
}

INDUSTRY_demand_luxury_clothing_silver = {
	# Actual units demanded
	value = INDUSTRY_luxury_clothing_factories
	multiply = INDUSTRY_base_demand_luxury_clothing_silver
}

# SILK

INDUSTRY_malus_luxury_clothing_production_silk = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_silk
		}
		subtract = var:shortage_silk
		multiply = INDUSTRY_demand_importance_luxury_clothing_silk
	}
}

INDUSTRY_demand_importance_luxury_clothing_silk = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 0.25
}

INDUSTRY_base_demand_luxury_clothing_silk = {
	# Units demanded per factory
	value = 10
}

INDUSTRY_demand_luxury_clothing_silk = {
	# Actual units demanded
	value = INDUSTRY_luxury_clothing_factories
	multiply = INDUSTRY_base_demand_luxury_clothing_silk
}

# LIVESTOCK (LEATHER)

INDUSTRY_malus_luxury_clothing_production_livestock = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_livestock
		}
		subtract = var:shortage_livestock
		multiply = INDUSTRY_demand_importance_luxury_clothing_livestock
	}
}

INDUSTRY_demand_importance_luxury_clothing_livestock = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 0.15
}

INDUSTRY_base_demand_luxury_clothing_livestock = {
	# Units demanded per factory
	value = 5
}

INDUSTRY_demand_luxury_clothing_livestock = {
	# Actual units demanded
	value = INDUSTRY_luxury_clothing_factories
	multiply = INDUSTRY_base_demand_luxury_clothing_livestock
}

# GEMS

INDUSTRY_malus_luxury_clothing_production_gems = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_gems
		}
		subtract = var:shortage_gems
		multiply = INDUSTRY_demand_importance_luxury_clothing_gems
	}
}

INDUSTRY_demand_importance_luxury_clothing_gems = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 0.1
}

INDUSTRY_base_demand_luxury_clothing_gems = {
	# Units demanded per factory
	value = 8
}

INDUSTRY_demand_luxury_clothing_gems = {
	# Actual units demanded
	value = INDUSTRY_luxury_clothing_factories
	multiply = INDUSTRY_base_demand_luxury_clothing_gems
}

## BRONZE
INDUSTRY_production_rate_bronze = {
	# Base maximum output of one factory for this tradegood, at maximum productivity
	value = 50
}

production_bonus_bronze = {
	# Scope: Country
	# Function: Stores the multiplier to mechanised industrial production
	value = 1
}

INDUSTRY_production_bronze_base = {
	# Base output of all factories
	value = INDUSTRY_production_rate_bronze
	multiply = INDUSTRY_bronze_factories
	multiply = owner.production_bonus_bronze

}

INDUSTRY_production_bronze = {
	# Applies modifiers from supply
	value = INDUSTRY_production_bronze_base
	multiply = INDUSTRY_production_bronze_multiplier
}

INDUSTRY_production_bronze_multiplier = {
	# Base production, minus maluses from ingredient shortages. All ingredient maluses must be listed here
	value = 1
	add = INDUSTRY_malus_bronze_production_copper
	add = INDUSTRY_malus_bronze_production_tin
	add = INDUSTRY_malus_bronze_production_coal
	min = 0
}

INDUSTRY_production_bronze_efficiency = {
	# For displaying the production efficiency as a percentage of possible maximum
	value = INDUSTRY_production_bronze
	divide = INDUSTRY_production_bronze_base
}

# Ingredients

# COPPER

INDUSTRY_malus_bronze_production_copper = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_copper
		}
		subtract = var:shortage_copper
		multiply = INDUSTRY_demand_importance_bronze_copper
	}
}

INDUSTRY_demand_importance_bronze_copper = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 1
}

INDUSTRY_base_demand_bronze_copper = {
	# Units demanded per factory
	value = 9
}

INDUSTRY_demand_bronze_copper = {
	# Actual units demanded
	value = INDUSTRY_bronze_factories
	multiply = INDUSTRY_base_demand_bronze_copper
}

# TIN

INDUSTRY_malus_bronze_production_tin = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_tin
		}
		subtract = var:shortage_tin
		multiply = INDUSTRY_demand_importance_bronze_tin
	}
}

INDUSTRY_demand_importance_bronze_tin = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 1
}

INDUSTRY_base_demand_bronze_tin = {
	# Units demanded per factory
	value = 1
}

INDUSTRY_demand_bronze_tin = {
	# Actual units demanded
	value = INDUSTRY_bronze_factories
	multiply = INDUSTRY_base_demand_bronze_tin
}

# COAL

INDUSTRY_malus_bronze_production_coal = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_coal
		}
		subtract = var:shortage_coal
		multiply = INDUSTRY_demand_importance_bronze_coal
	}
}

INDUSTRY_demand_importance_bronze_coal = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 1
}

INDUSTRY_base_demand_bronze_coal = {
	# Units demanded per factory
	value = 4
}

INDUSTRY_demand_bronze_coal = {
	# Actual units demanded
	value = INDUSTRY_bronze_factories
	multiply = INDUSTRY_base_demand_bronze_coal
}

## MACHINE PARTS
INDUSTRY_production_rate_machine_parts = {
	# Base maximum output of one factory for this tradegood, at maximum productivity
	value = 45
}

production_bonus_machine_parts = {
	# Scope: Country
	# Function: Stores the multiplier to mechanised industrial production
	value = 1
}

INDUSTRY_production_machine_parts_base = {
	# Base output of all factories
	value = INDUSTRY_production_rate_machine_parts
	multiply = INDUSTRY_machine_parts_factories
	multiply = owner.production_bonus_machine_parts

}

INDUSTRY_production_machine_parts = {
	# Applies modifiers from supply
	value = INDUSTRY_production_machine_parts_base
	multiply = INDUSTRY_production_machine_parts_multiplier
}

INDUSTRY_production_machine_parts_multiplier = {
	# Base production, minus maluses from ingredient shortages. All ingredient maluses must be listed here
	value = 1
	add = INDUSTRY_malus_machine_parts_production_bronze
	add = INDUSTRY_malus_machine_parts_production_steel
	add = INDUSTRY_malus_machine_parts_production_copper
	add = INDUSTRY_malus_machine_parts_production_rare_alloys
	add = INDUSTRY_malus_machine_parts_production_rubber
	add = INDUSTRY_malus_machine_parts_production_oil
	add = INDUSTRY_malus_machine_parts_production_electronics
	add = INDUSTRY_malus_machine_parts_production_iron
	min = 0
}

INDUSTRY_production_machine_parts_efficiency = {
	# For displaying the production efficiency as a percentage of possible maximum
	value = INDUSTRY_production_machine_parts
	divide = INDUSTRY_production_machine_parts_base
}

# Ingredients

# BRONZE

INDUSTRY_malus_machine_parts_production_bronze = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_bronze
		}
		subtract = var:shortage_bronze
		multiply = INDUSTRY_demand_importance_machine_parts_bronze
	}
}

INDUSTRY_demand_importance_machine_parts_bronze = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 0.15
}

INDUSTRY_base_demand_machine_parts_bronze = {
	# Units demanded per factory
	value = 10
}

INDUSTRY_demand_machine_parts_bronze = {
	# Actual units demanded
	value = INDUSTRY_machine_parts_factories
	multiply = INDUSTRY_base_demand_machine_parts_bronze
}

# STEEL

INDUSTRY_malus_machine_parts_production_steel = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_steel
		}
		subtract = var:shortage_steel
		multiply = INDUSTRY_demand_importance_machine_parts_steel
	}
}

INDUSTRY_demand_importance_machine_parts_steel = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 0.15
}

INDUSTRY_base_demand_machine_parts_steel = {
	# Units demanded per factory
	value = 10
}

INDUSTRY_demand_machine_parts_steel = {
	# Actual units demanded
	value = INDUSTRY_machine_parts_factories
	multiply = INDUSTRY_base_demand_machine_parts_steel
}

# COPPER

INDUSTRY_malus_machine_parts_production_copper = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_copper
		}
		subtract = var:shortage_copper
		multiply = INDUSTRY_demand_importance_machine_parts_copper
	}
}

INDUSTRY_demand_importance_machine_parts_copper = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 0.15
}

INDUSTRY_base_demand_machine_parts_copper = {
	# Units demanded per factory
	value = 10
}

INDUSTRY_demand_machine_parts_copper = {
	# Actual units demanded
	value = INDUSTRY_machine_parts_factories
	multiply = INDUSTRY_base_demand_machine_parts_copper
}

# RARE ALLOYS

INDUSTRY_malus_machine_parts_production_rare_alloys = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_rare_alloys
		}
		subtract = var:shortage_rare_alloys
		multiply = INDUSTRY_demand_importance_machine_parts_rare_alloys
	}
}

INDUSTRY_demand_importance_machine_parts_rare_alloys = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 0.15
}

INDUSTRY_base_demand_machine_parts_rare_alloys = {
	# Units demanded per factory
	value = 3
}

INDUSTRY_demand_machine_parts_rare_alloys = {
	# Actual units demanded
	value = INDUSTRY_machine_parts_factories
	multiply = INDUSTRY_base_demand_machine_parts_rare_alloys
}


# ELECTRONICS

INDUSTRY_malus_machine_parts_production_electronics = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_electronics
		}
		subtract = var:shortage_electronics
		multiply = INDUSTRY_demand_importance_machine_parts_electronics
	}
}

INDUSTRY_demand_importance_machine_parts_electronics = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 0.15
}

INDUSTRY_base_demand_machine_parts_electronics = {
	# Units demanded per factory
	value = 2
}

INDUSTRY_demand_machine_parts_electronics = {
	# Actual units demanded
	value = INDUSTRY_machine_parts_factories
	multiply = INDUSTRY_base_demand_machine_parts_electronics
}


# OIL

INDUSTRY_malus_machine_parts_production_oil = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_oil
		}
		subtract = var:shortage_oil
		multiply = INDUSTRY_demand_importance_machine_parts_oil
	}
}

INDUSTRY_demand_importance_machine_parts_oil = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 0.15
}

INDUSTRY_base_demand_machine_parts_oil = {
	# Units demanded per factory
	value = 1
}

INDUSTRY_demand_machine_parts_oil = {
	# Actual units demanded
	value = INDUSTRY_machine_parts_factories
	multiply = INDUSTRY_base_demand_machine_parts_oil
}

# IRON

INDUSTRY_malus_machine_parts_production_iron = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_iron
		}
		subtract = var:shortage_iron
		multiply = INDUSTRY_demand_importance_machine_parts_iron
	}
}

INDUSTRY_demand_importance_machine_parts_iron = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 0.15
}

INDUSTRY_base_demand_machine_parts_iron = {
	# Units demanded per factory
	value = 5
}

INDUSTRY_demand_machine_parts_iron = {
	# Actual units demanded
	value = INDUSTRY_machine_parts_factories
	multiply = INDUSTRY_base_demand_machine_parts_iron
}

# RUBBER

INDUSTRY_malus_machine_parts_production_rubber = {
	# The actual malus applied from shortages of the ingredient
	value = 0
	if = {
		limit = {
			has_variable = shortage_rubber
		}
		subtract = var:shortage_rubber
		multiply = INDUSTRY_demand_importance_machine_parts_rubber
	}
}

INDUSTRY_demand_importance_machine_parts_rubber = {
	# As a percentage of the crucial ingredients, this is the maximum malus (0-1) that can be applied to the output
	value = 0.15
}

INDUSTRY_base_demand_machine_parts_rubber = {
	# Units demanded per factory
	value = 3
}

INDUSTRY_demand_machine_parts_rubber = {
	# Actual units demanded
	value = INDUSTRY_machine_parts_factories
	multiply = INDUSTRY_base_demand_machine_parts_rubber
}

## NAVAL SUPPLIES
INDUSTRY_production_rate_naval_supplies = {
	value = 110
}

production_bonus_naval_supplies = {
	# Scope: Country
	# Function: Stores the multiplier to mechanised industrial production
	value = 1
}

INDUSTRY_production_naval_supplies_base = {
	value = INDUSTRY_production_rate_naval_supplies
	multiply = INDUSTRY_naval_supplies_factories
	multiply = owner.production_bonus_naval_supplies

}

INDUSTRY_production_naval_supplies = {
	# Applies modifiers from supply
	value = INDUSTRY_production_naval_supplies_base
	multiply = INDUSTRY_production_naval_supplies_multiplier
}

INDUSTRY_production_naval_supplies_multiplier = {
	value = 1
	add = INDUSTRY_malus_naval_supplies_production_copper
	add = INDUSTRY_malus_naval_supplies_production_bronze
	add = INDUSTRY_malus_naval_supplies_production_steel
	add = INDUSTRY_malus_naval_supplies_production_industrial_fibres
	min = 0
}

INDUSTRY_production_naval_supplies_efficiency = {
	value = INDUSTRY_production_naval_supplies
	divide = INDUSTRY_production_naval_supplies_base
}

# Ingredients

# Industrial fibres

INDUSTRY_malus_naval_supplies_production_industrial_fibres = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_industrial_fibres
		}
		subtract = var:shortage_industrial_fibres
		multiply = INDUSTRY_demand_importance_naval_supplies_industrial_fibres
	}
}

INDUSTRY_demand_importance_naval_supplies_industrial_fibres = {
	# As a percentage of the crucial ingredients
	value = 0.75
}

INDUSTRY_base_demand_naval_supplies_industrial_fibres = {
	value = 40
}

INDUSTRY_demand_naval_supplies_industrial_fibres = {
	value = INDUSTRY_naval_supplies_factories
	multiply = INDUSTRY_base_demand_naval_supplies_industrial_fibres
}

# Copper

INDUSTRY_malus_naval_supplies_production_copper = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_copper
		}
		subtract = var:shortage_copper
		multiply = INDUSTRY_demand_importance_naval_supplies_copper
	}
}

INDUSTRY_demand_importance_naval_supplies_copper = {
	# As a percentage of the crucial ingredients
	value = 0.5
}

INDUSTRY_base_demand_naval_supplies_copper = {
	value = 35
}

INDUSTRY_demand_naval_supplies_copper = {
	value = INDUSTRY_naval_supplies_factories
	multiply = INDUSTRY_base_demand_naval_supplies_copper
}

# bronze

INDUSTRY_malus_naval_supplies_production_bronze = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_bronze
		}
		subtract = var:shortage_bronze
		multiply = INDUSTRY_demand_importance_naval_supplies_bronze
	}
}

INDUSTRY_demand_importance_naval_supplies_bronze = {
	# As a percentage of the crucial ingredients
	value = 0.15
}

INDUSTRY_base_demand_naval_supplies_bronze = {
	value = 20
}

INDUSTRY_demand_naval_supplies_bronze = {
	value = INDUSTRY_naval_supplies_factories
	multiply = INDUSTRY_base_demand_naval_supplies_bronze
}

# steel

INDUSTRY_malus_naval_supplies_production_steel = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_steel
		}
		subtract = var:shortage_steel
		multiply = INDUSTRY_demand_importance_naval_supplies_steel
	}
}

INDUSTRY_demand_importance_naval_supplies_steel = {
	# As a percentage of the crucial ingredients
	value = 0.15
}

INDUSTRY_base_demand_naval_supplies_steel = {
	value = 15
}

INDUSTRY_demand_naval_supplies_steel = {
	value = INDUSTRY_naval_supplies_factories
	multiply = INDUSTRY_base_demand_naval_supplies_steel
}

## ALCOHOL
INDUSTRY_production_rate_alcohol = {
	value = 100
}

production_bonus_alcohol = {
	# Scope: Country
	# Function: Stores the multiplier to mechanised industrial production
	value = 1
}

INDUSTRY_production_alcohol_base = {
	value = INDUSTRY_production_rate_alcohol
	multiply = INDUSTRY_alcohol_factories
	multiply = owner.production_bonus_alcohol
}

INDUSTRY_production_alcohol = {
	# Applies modifiers from supply
	value = INDUSTRY_production_alcohol_base
	multiply = INDUSTRY_production_alcohol_multiplier
}

INDUSTRY_production_alcohol_multiplier = {
	value = 1
	add = INDUSTRY_malus_alcohol_production_glass # bottling
	add = INDUSTRY_malus_alcohol_production_grain
	add = INDUSTRY_malus_alcohol_production_temperate_fruit
	add = INDUSTRY_malus_alcohol_production_sugar
	add = INDUSTRY_malus_alcohol_production_vegetables
	add = INDUSTRY_malus_alcohol_production_copper # brewing equipment
	add = INDUSTRY_malus_alcohol_production_coal # heating
	min = 0
}

INDUSTRY_production_alcohol_efficiency = {
	value = INDUSTRY_production_alcohol
	divide = INDUSTRY_production_alcohol_base
}

# Ingredients

# Fruit

INDUSTRY_malus_alcohol_production_temperate_fruit = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_temperate_fruit
		}
		subtract = var:shortage_temperate_fruit
		multiply = INDUSTRY_demand_importance_alcohol_temperate_fruit
	}
}

INDUSTRY_demand_importance_alcohol_temperate_fruit = {
	# As a percentage of the crucial ingredients
	value = 0.15
}

INDUSTRY_base_demand_alcohol_temperate_fruit = {
	value = 10
}

INDUSTRY_demand_alcohol_temperate_fruit = {
	value = INDUSTRY_alcohol_factories
	multiply = INDUSTRY_base_demand_alcohol_temperate_fruit
}

# Grain

INDUSTRY_malus_alcohol_production_grain = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_grain
		}
		subtract = var:shortage_grain
		multiply = INDUSTRY_demand_importance_alcohol_grain
	}
}

INDUSTRY_demand_importance_alcohol_grain = {
	# As a percentage of the crucial ingredients
	value = 0.5
}

INDUSTRY_base_demand_alcohol_grain = {
	value = 20
}

INDUSTRY_demand_alcohol_grain = {
	value = INDUSTRY_alcohol_factories
	multiply = INDUSTRY_base_demand_alcohol_grain
}

# Glass

INDUSTRY_malus_alcohol_production_glass = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_glass
		}
		subtract = var:shortage_glass
		multiply = INDUSTRY_demand_importance_alcohol_glass
	}
}

INDUSTRY_demand_importance_alcohol_glass = {
	# As a percentage of the crucial ingredients
	value = 0.5
}

INDUSTRY_base_demand_alcohol_glass = {
	value = 10
}

INDUSTRY_demand_alcohol_glass = {
	value = INDUSTRY_alcohol_factories
	multiply = INDUSTRY_base_demand_alcohol_glass
}

# Copper

INDUSTRY_malus_alcohol_production_copper = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_copper
		}
		subtract = var:shortage_copper
		multiply = INDUSTRY_demand_importance_alcohol_copper
	}
}

INDUSTRY_demand_importance_alcohol_copper = {
	# As a percentage of the crucial ingredients
	value = 0.75
}

INDUSTRY_base_demand_alcohol_copper = {
	value = 4
}

INDUSTRY_demand_alcohol_copper = {
	value = INDUSTRY_alcohol_factories
	multiply = INDUSTRY_base_demand_alcohol_copper
}

# Sugar

INDUSTRY_malus_alcohol_production_sugar = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_sugar
		}
		subtract = var:shortage_sugar
		multiply = INDUSTRY_demand_importance_alcohol_sugar
	}
}

INDUSTRY_demand_importance_alcohol_sugar = {
	# As a percentage of the crucial ingredients
	value = 0.5
}

INDUSTRY_base_demand_alcohol_sugar = {
	value = 5
}

INDUSTRY_demand_alcohol_sugar = {
	value = INDUSTRY_alcohol_factories
	multiply = INDUSTRY_base_demand_alcohol_sugar
}

# Vegetables

INDUSTRY_malus_alcohol_production_vegetables = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_vegetables
		}
		subtract = var:shortage_vegetables
		multiply = INDUSTRY_demand_importance_alcohol_vegetables
	}
}

INDUSTRY_demand_importance_alcohol_vegetables = {
	# As a percentage of the crucial ingredients
	value = 0.15
}

INDUSTRY_base_demand_alcohol_vegetables = {
	value = 5
}

INDUSTRY_demand_alcohol_vegetables = {
	value = INDUSTRY_alcohol_factories
	multiply = INDUSTRY_base_demand_alcohol_vegetables
}

# coal

INDUSTRY_malus_alcohol_production_coal = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_coal
		}
		subtract = var:shortage_coal
		multiply = INDUSTRY_demand_importance_alcohol_coal
	}
}

INDUSTRY_demand_importance_alcohol_coal = {
	# As a percentage of the crucial ingredients
	value = 0.75
}

INDUSTRY_base_demand_alcohol_coal = {
	value = 4
}

INDUSTRY_demand_alcohol_coal = {
	value = INDUSTRY_alcohol_factories
	multiply = INDUSTRY_base_demand_alcohol_coal
}

## GLASS
INDUSTRY_production_rate_glass = {
	value = 60
}

production_bonus_glass = {
	# Scope: Country
	# Function: Stores the multiplier to mechanised industrial production
	value = 1
}

INDUSTRY_production_glass_base = {
	value = INDUSTRY_production_rate_glass
	multiply = INDUSTRY_glass_factories
	multiply = owner.production_bonus_glass

}

INDUSTRY_production_glass = {
	# Applies modifiers from supply
	value = INDUSTRY_production_glass_base
	multiply = INDUSTRY_production_glass_multiplier
}

INDUSTRY_production_glass_multiplier = {
	value = 1
	add = INDUSTRY_malus_glass_production_coal
	add = INDUSTRY_malus_glass_production_stone
	add = INDUSTRY_malus_glass_production_lead
	min = 0
}

INDUSTRY_production_glass_efficiency = {
	value = INDUSTRY_production_glass
	divide = INDUSTRY_production_glass_base
}

# Ingredients

# Coal

INDUSTRY_malus_glass_production_coal = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_coal
		}
		subtract = var:shortage_coal
		multiply = INDUSTRY_demand_importance_glass_coal
	}
}

INDUSTRY_demand_importance_glass_coal = {
	# As a percentage of the crucial ingredients
	value = 1
}

INDUSTRY_base_demand_glass_coal = {
	value = 20
}

INDUSTRY_demand_glass_coal = {
	value = INDUSTRY_glass_factories
	multiply = INDUSTRY_base_demand_glass_coal
}

# stone

INDUSTRY_malus_glass_production_stone = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_stone
		}
		subtract = var:shortage_stone
		multiply = INDUSTRY_demand_importance_glass_stone
	}
}

INDUSTRY_demand_importance_glass_stone = {
	# As a percentage of the crucial ingredients
	value = 1
}

INDUSTRY_base_demand_glass_stone = {
	value = 20
}

INDUSTRY_demand_glass_stone = {
	value = INDUSTRY_glass_factories
	multiply = INDUSTRY_base_demand_glass_stone
}

# lead

INDUSTRY_malus_glass_production_lead = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_lead
		}
		subtract = var:shortage_lead
		multiply = INDUSTRY_demand_importance_glass_lead
	}
}

INDUSTRY_demand_importance_glass_lead = {
	# As a percentage of the crucial ingredients
	value = 0.5
}

INDUSTRY_base_demand_glass_lead = {
	value = 10
}

INDUSTRY_demand_glass_lead = {
	value = INDUSTRY_glass_factories
	multiply = INDUSTRY_base_demand_glass_lead
}

## EARLY MUNITIONS
INDUSTRY_production_rate_early_munitions = {
	value = 80
}

production_bonus_early_munitions = {
	# Scope: Country
	# Function: Stores the multiplier to mechanised industrial production
	value = 1
}

INDUSTRY_production_early_munitions_base = {
	value = INDUSTRY_production_rate_early_munitions
	multiply = INDUSTRY_early_munitions_factories
	multiply = owner.production_bonus_early_munitions

}

INDUSTRY_production_early_munitions = {
	# Applies modifiers from supply
	value = INDUSTRY_production_early_munitions_base
	multiply = INDUSTRY_production_early_munitions_multiplier
}

INDUSTRY_production_early_munitions_multiplier = {
	value = 1
	add = INDUSTRY_malus_early_munitions_production_wood
	add = INDUSTRY_malus_early_munitions_production_stone
	add = INDUSTRY_malus_early_munitions_production_lead
	add = INDUSTRY_malus_early_munitions_production_textile_fibres
	add = INDUSTRY_malus_early_munitions_production_iron
	add = INDUSTRY_malus_early_munitions_production_steel
	add = INDUSTRY_malus_early_munitions_production_sulphur
	min = 0
}

INDUSTRY_production_early_munitions_efficiency = {
	value = INDUSTRY_production_early_munitions
	divide = INDUSTRY_production_early_munitions_base
}

# Ingredients

# wood

INDUSTRY_malus_early_munitions_production_wood = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_wood
		}
		subtract = var:shortage_wood
		multiply = INDUSTRY_demand_importance_early_munitions_wood
	}
}

INDUSTRY_demand_importance_early_munitions_wood = {
	# As a percentage of the crucial ingredients
	value = 1
}

INDUSTRY_base_demand_early_munitions_wood = {
	value = 1
}

INDUSTRY_demand_early_munitions_wood = {
	value = INDUSTRY_early_munitions_factories
	multiply = INDUSTRY_base_demand_early_munitions_wood
}

# lead

INDUSTRY_malus_early_munitions_production_lead = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_lead
		}
		subtract = var:shortage_lead
		multiply = INDUSTRY_demand_importance_early_munitions_lead
	}
}

INDUSTRY_demand_importance_early_munitions_lead = {
	# As a percentage of the crucial ingredients
	value = 1
}

INDUSTRY_base_demand_early_munitions_lead = {
	value = 20
}

INDUSTRY_demand_early_munitions_lead = {
	value = INDUSTRY_early_munitions_factories
	multiply = INDUSTRY_base_demand_early_munitions_lead
}

# stone

INDUSTRY_malus_early_munitions_production_stone = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_stone
		}
		subtract = var:shortage_stone
		multiply = INDUSTRY_demand_importance_early_munitions_stone
	}
}

INDUSTRY_demand_importance_early_munitions_stone = {
	# As a percentage of the crucial ingredients
	value = 1
}

INDUSTRY_base_demand_early_munitions_stone = {
	value = 1
}

INDUSTRY_demand_early_munitions_stone = {
	value = INDUSTRY_early_munitions_factories
	multiply = INDUSTRY_base_demand_early_munitions_stone
}

# textile_fibres

INDUSTRY_malus_early_munitions_production_textile_fibres = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_textile_fibres
		}
		subtract = var:shortage_textile_fibres
		multiply = INDUSTRY_demand_importance_early_munitions_textile_fibres
	}
}

INDUSTRY_demand_importance_early_munitions_textile_fibres = {
	# As a percentage of the crucial ingredients
	value = 0.66
}

INDUSTRY_base_demand_early_munitions_textile_fibres = {
	value = 1
}

INDUSTRY_demand_early_munitions_textile_fibres = {
	value = INDUSTRY_early_munitions_factories
	multiply = INDUSTRY_base_demand_early_munitions_textile_fibres
}

# iron

INDUSTRY_malus_early_munitions_production_iron = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_iron
		}
		subtract = var:shortage_iron
		multiply = INDUSTRY_demand_importance_early_munitions_iron
	}
}

INDUSTRY_demand_importance_early_munitions_iron = {
	# As a percentage of the crucial ingredients
	value = 0.5
}

INDUSTRY_base_demand_early_munitions_iron = {
	value = 5
}

INDUSTRY_demand_early_munitions_iron = {
	value = INDUSTRY_early_munitions_factories
	multiply = INDUSTRY_base_demand_early_munitions_iron
}

# steel

INDUSTRY_malus_early_munitions_production_steel = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_steel
		}
		subtract = var:shortage_steel
		multiply = INDUSTRY_demand_importance_early_munitions_steel
	}
}

INDUSTRY_demand_importance_early_munitions_steel = {
	# As a percentage of the crucial ingredients
	value = 0.25
}

INDUSTRY_base_demand_early_munitions_steel = {
	value = 2
}

INDUSTRY_demand_early_munitions_steel = {
	value = INDUSTRY_early_munitions_factories
	multiply = INDUSTRY_base_demand_early_munitions_steel
}

# sulphur

INDUSTRY_malus_early_munitions_production_sulphur = {
	value = 0
	if = {
		limit = {
			has_variable = shortage_sulphur
		}
		subtract = var:shortage_sulphur
		multiply = INDUSTRY_demand_importance_early_munitions_sulphur
	}
}

INDUSTRY_demand_importance_early_munitions_sulphur = {
	# As a percentage of the crucial ingredients
	value = 0.5
}

INDUSTRY_base_demand_early_munitions_sulphur = {
	value = 15
}

INDUSTRY_demand_early_munitions_sulphur = {
	value = INDUSTRY_early_munitions_factories
	multiply = INDUSTRY_base_demand_early_munitions_sulphur
}

## EARLY ARTILLERY
INDUSTRY_production_rate_early_artillery = {
	value = 60
}

production_bonus_early_artillery = {
	# Scope: Country
	# Function: Stores the multiplier to mechanised industrial production
	value = 1
}

INDUSTRY_production_early_artillery_base = {
	value = INDUSTRY_production_rate_early_artillery
	multiply = INDUSTRY_early_artillery_factories
	multiply = owner.production_bonus_early_artillery

}

INDUSTRY_production_early_artillery = {
	# Applies modifiers from supply
	value = INDUSTRY_production_early_artillery_base
	multiply = INDUSTRY_production_early_artillery_multiplier
}

INDUSTRY_production_early_artillery_multiplier = {
	value = 1
	add = INDUSTRY_malus_early_artillery_production_wood
	add = INDUSTRY_malus_early_artillery_production_stone
	add = INDUSTRY_malus_early_artillery_production_lead
	add = INDUSTRY_malus_early_artillery_production_sulphur
	add = INDUSTRY_malus_early_artillery_production_textile_fibres
	add = INDUSTRY_malus_early_artillery_production_iron
	add = INDUSTRY_malus_early_artillery_production_steel
	add = INDUSTRY_malus_early_artillery_production_bronze
	add = INDUSTRY_malus_early_artillery_production_livestock
	min = 0
}

INDUSTRY_production_early_artillery_efficiency = {
	value = INDUSTRY_production_early_artillery
	divide = INDUSTRY_production_early_artillery_base
}