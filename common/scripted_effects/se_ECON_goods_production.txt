# Function:	Create variables for stockpiles in every governorship
# Scope:	Governorship
# Called:	1) At beginning of game

GOODS_setup_governorship_stockpiles = {
	set_variable = {
		name = grain_stockpile
		value = GOODS_governorship_grain_produced
	}
	set_variable = {
		name = fur_stockpile
		value = GOODS_governorship_fur_produced
	}
	set_variable = {
		name = grain_stockpile
		value = GOODS_governorship_grain_produced
	}
	set_variable = {
		name = industrial_fibres_stockpile
		value = GOODS_governorship_industrial_fibres_produced
	}
	set_variable = {
		name = textile_fibres_stockpile
		value = GOODS_governorship_textile_fibres_produced
	}
	set_variable = {
		name = wool_stockpile
		value = GOODS_governorship_wool_produced
	}
	set_variable = {
		name = silk_stockpile
		value = GOODS_governorship_silk_produced
	}
	set_variable = {
		name = elephants_stockpile
		value = GOODS_governorship_elephants_produced
	}
	set_variable = {
		name = wood_stockpile
		value = GOODS_governorship_wood_produced
	}
	set_variable = {
		name = stone_stockpile
		value = GOODS_governorship_stone_produced
	}
	set_variable = {
		name = inorganic_compounds_stockpile
		value = GOODS_governorship_inorganic_compounds_produced
	}
	set_variable = {
		name = sulphur_stockpile
		value = GOODS_governorship_sulphur_produced
	}
	set_variable = {
		name = whales_stockpile
		value = GOODS_governorship_whales_produced
	}
	set_variable = {
		name = gems_stockpile
		value = GOODS_governorship_gems_produced
	}
	set_variable = {
		name = peat_stockpile
		value = GOODS_governorship_peat_produced
	}
	set_variable = {
		name = tin_stockpile
		value = GOODS_governorship_tin_produced
	}
	set_variable = {
		name = copper_stockpile
		value = GOODS_governorship_copper_produced
	}
	set_variable = {
		name = iron_stockpile
		value = GOODS_governorship_iron_produced
	}
	set_variable = {
		name = gold_stockpile
		value = GOODS_governorship_gold_produced
	}
	set_variable = {
		name = silver_stockpile
		value = GOODS_governorship_silver_produced
	}
	set_variable = {
		name = lead_stockpile
		value = GOODS_governorship_lead_produced
	}
	set_variable = {
		name = coal_stockpile
		value = GOODS_governorship_coal_produced
	}
	set_variable = {
		name = oil_stockpile
		value = GOODS_governorship_oil_produced
	}
	set_variable = {
		name = tea_stockpile
		value = GOODS_governorship_tea_produced
	}
	set_variable = {
		name = coffee_stockpile
		value = GOODS_governorship_coffee_produced
	}
	set_variable = {
		name = opium_stockpile
		value = GOODS_governorship_opium_produced
	}
	set_variable = {
		name = tobacco_stockpile
		value = GOODS_governorship_tobacco_produced
	}
	set_variable = {
		name = sugar_stockpile
		value = GOODS_governorship_sugar_produced
	}
	set_variable = {
		name = hardwood_stockpile
		value = GOODS_governorship_hardwood_produced
	}
	set_variable = {
		name = rubber_stockpile
		value = GOODS_governorship_rubber_produced
	}
	set_variable = {
		name = dye_stockpile
		value = GOODS_governorship_dye_produced
	}
	set_variable = {
		name = spices_stockpile
		value = GOODS_governorship_spices_produced
	}
	set_variable = {
		name = tropical_fruit_stockpile
		value = GOODS_governorship_tropical_fruit_produced
	}
	set_variable = {
		name = mediterranean_fruit_stockpile
		value = GOODS_governorship_mediterranean_fruit_produced
	}
	set_variable = {
		name = temperate_fruit_stockpile
		value = GOODS_governorship_temperate_fruit_produced
	}
	set_variable = {
		name = chocolate_stockpile
		value = GOODS_governorship_chocolate_produced
	}
	set_variable = {
		name = livestock_stockpile
		value = GOODS_governorship_livestock_produced
	}
	set_variable = {
		name = salt_stockpile
		value = GOODS_governorship_salt_produced
	}
	set_variable = {
		name = fish_stockpile
		value = GOODS_governorship_fish_produced
	}
}


# Function: Update the list of goods that a governorship produces
#			Then the governorship will only calculate production for those goods
# Scope:	Governorship
# Called:	1) At the beginning of the game
#			2) Whenever the goods in a province change, it should be triggered for that province's governorship
#			3) Whenever ownership of territory changes, it should be triggered in all governorships involved
GOODS_update_governorship_local_goods = {
	GOODS_check_if_governorship_grain_produced = yes
}

# Child effects of GOODS_update_governorship_local_goods

GOODS_check_if_governorship_grain_produced = {
	if = {
		limit = {
			any_governorship_state = {
				any_state_province = {
					trade_goods = grain
				}
			}
		}
		set_variable = {
			name = produces_grain
			value = 1
		}
	}
	else = {
		remove_variable  = {
			name = produces_grain
		}
	}
}

# Function:	Transfer ownership of stockpiles when a governorship is taken over
# Scope:	Governorship
# Called:	Whenever ownership of territory changes, it should be triggered in all governorships involved

GOODS_transfer_stockpile_ownership = {
	# This needs to transfer a % of each stockpile based on... population of cities taken over? TBD
	# Consider the scenario where a governorship is wholly taken over by a tag. That might need its own sub-function
}

# Function:	Set the amount of raw goods produced by a governorship
# Scope:	Governorship
# Called:	Quarterly

GOODS_produce_fur = {

}