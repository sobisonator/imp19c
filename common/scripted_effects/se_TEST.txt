# TODO: Move into new TECH scripted effects file

# Military

TECH_unlock_military_level_0 = {
	unlock_invention = tech_weapon_manufacturing
	unlock_invention = tech_firearms

	unlock_invention = tech_shipyards
}

TECH_unlock_military_level_1 = {
	# Scope:  Country
	unlock_invention = tech_permanent_army
	unlock_invention = tech_field_ambulances

	unlock_invention = tech_shipyards
	unlock_invention = tech_warhsips

	unlock_invention = tech_cannons
}

TECH_unlock_military_level_2 = {
	unlock_invention = tech_bombard_cannons

	unlock_invention = tech_warships
}

TECH_unlock_military_level_3 = {
	unlock_invention = tech_sword_bayonet
	unlock_invention = tech_replaceable_weapon_parts
	unlock_invention = tech_rifles

	unlock_invention = tech_mortar
	unlock_invention = tech_wheeled_cannons
	unlock_invention = tech_limber
	unlock_invention = tech_howitzer

	unlock_invention = tech_naval_explosives
	unlock_invention = tech_carronade
	unlock_invention = tech_multiple_deck_warships
	unlock_invention = tech_round_bow_megavessels
	unlock_invention = tech_copper_plating

	unlock_invention = tech_commissioned_staff
	unlock_invention = tech_regimental_structure
	unlock_invention = tech_specialised_corps
	unlock_invention = tech_mass_mobilisation
	unlock_invention = tech_skirmisher_corps
	unlock_invention = tech_mass_artillery
	unlock_invention = tech_military_technical_journals_and_drawings
}

# Administrative

TECH_unlock_oratory_level_1 = {
	unlock_invention = tech_central_archiving

	unlock_invention = tech_monetary_theory

	unlock_invention = tech_central_administration
}

TECH_unlock_oratory_level_2 = {
	unlock_invention = tech_urban_planning
	unlock_invention = tech_standardised_writing_system
	unlock_invention = tech_chancery_and_diplomatics
}

TECH_unlock_oratory_level_3 = {
	unlock_invention = tech_clearing_houses
}

TECH_unlock_oratory_level_4 = {
	unlock_invention = tech_central_banking
	unlock_invention = tech_insurance_agencies
	unlock_invention = tech_public_debt_administration
}

# Industrial

TECH_unlock_civic_level_1 = {
	unlock_invention = tech_metalworking
	unlock_invention = tech_construction
}

TECH_unlock_civic_level_2 = {
	unlock_invention = tech_artificial_canals
	unlock_invention = tech_gear_systems
	unlock_invention = tech_templating

	unlock_invention = tech_mining_rails
}

TECH_unlock_civic_level_3 = {
	unlock_invention = tech_spinning_frame
	unlock_invention = tech_threshing_machine
}

TECH_unlock_civic_level_4 = {
	unlock_invention = tech_mechanical_tools
	unlock_invention = tech_sewer_systems
	unlock_invention = tech_manufactories
	unlock_invention = tech_bloomery
	unlock_invention = tech_organometallic_compounds
}

TECH_unlock_civic_level_5 = {
	unlock_invention = tech_blast_furnace
	unlock_invention = tech_electricity
	unlock_invention = tech_reciprocating_engine
}

TECH_unlock_civic_level_6 = {
	unlock_invention = tech_experimental_telegraph
	unlock_invention = tech_voltaic_pile
}

# Academic

TECH_unlock_religious_level_1 = {
	unlock_invention = tech_education
	unlock_invention = tech_art_history
	unlock_invention = tech_astronomy
}

TECH_unlock_religious_level_2 = {
	unlock_invention = tech_national_epic
	unlock_invention = tech_theatre
}

TECH_unlock_religious_level_3 = {
	unlock_invention = tech_scientific_method
	unlock_invention = tech_astrophysics
	unlock_invention = tech_absorption_spectroscopy
	unlock_invention = tech_secular_sciences

	unlock_invention = tech_neoclassicisim
}

TECH_unlock_all_starting_techs = {
	c:CHI = {
		TECH_unlock_military_level_0 = yes
		TECH_unlock_military_level_1 = yes
		TECH_unlock_military_level_2 = yes
		unlock_invention = tech_rocket_artillery
		TECH_unlock_oratory_level_1 = yes
		TECH_unlock_oratory_level_2 = yes
		unlock_invention = tech_census
		unlock_invention = tech_postal_administration
		TECH_unlock_civic_level_1 = yes
		TECH_unlock_civic_level_2 = yes
		TECH_unlock_religious_level_1 = yes
		TECH_unlock_religious_level_2 = yes
	}

	every_country = {
		limit = {
			capital_scope = {
				OR = {
					west_africa_tradezone = { PROVINCE = yes }
					east_africa_tradezone = { PROVINCE = yes }
					middle_east_tradezone = { PROVINCE = yes }
					india_tradezone = { PROVINCE = yes }
					south_east_asia_tradezone = { PROVINCE = yes }
				}
			}
		}
		unlock_invention = tech_weapon_manufacturing
		unlock_invention = tech_firearms
		TECH_unlock_civic_level_1 = yes
	}

	every_country = {
		limit = {
			OR = {
				country_culture_group = southern_aryan
				country_culture_group = western_aryan
				country_culture_group = eastern_aryan
				country_culture_group = dravidian
				country_culture_group = burmic
				country_culture_group = tai
				country_culture_group = vietic
				country_culture_group = malaysian
				country_culture_group = gurkani
				country_culture_group = indo-himalayan
				country_culture_group = bodish
				country_culture_group = koreanic
				country_culture_group = japanese_group
			}
		}
		TECH_unlock_military_level_0 = yes
		TECH_unlock_military_level_1 = yes
		TECH_unlock_military_level_2 = yes
		TECH_unlock_oratory_level_1 = yes
		TECH_unlock_oratory_level_2 = yes
		TECH_unlock_civic_level_1 = yes
		TECH_unlock_civic_level_2 = yes
		TECH_unlock_civic_level_3 = yes
		TECH_unlock_religious_level_1 = yes
		unlock_invention = tech_rocket_artillery
	}

	every_country = {
		limit = {
			OR = {
				country_culture_group = french_group
				country_culture_group = british_group
				country_culture_group = spanish
				country_culture_group = portuguese_group
				country_culture_group = south_latino
				country_culture_group = north_latino
				country_culture_group = german
				country_culture_group = scandinavian
				country_culture_group = italian
				country_culture_group = mediterranean_romance
				country_culture_group = hungarian_group
				country_culture_group = north_ugric
				country_culture_group = baltic
				country_culture_group = mediterranean_romance
				country_culture_group = dutch_group
				country_culture_group = north_american
			}
		}
		TECH_unlock_military_level_0 = yes
		TECH_unlock_military_level_1 = yes
		TECH_unlock_military_level_2 = yes
		TECH_unlock_military_level_3 = yes
		TECH_unlock_oratory_level_1 = yes
		TECH_unlock_oratory_level_2 = yes
		TECH_unlock_oratory_level_3 = yes
		TECH_unlock_oratory_level_4 = yes
		TECH_unlock_civic_level_1 = yes
		TECH_unlock_civic_level_2 = yes
		TECH_unlock_civic_level_3 = yes
		TECH_unlock_civic_level_4 = yes
		TECH_unlock_civic_level_5 = yes
		TECH_unlock_civic_level_6 = yes
		TECH_unlock_religious_level_1 = yes
		TECH_unlock_religious_level_2 = yes
		TECH_unlock_religious_level_3 = yes
	}

	c:GBR = {
		unlock_invention = tech_rotative_beam_engine
		unlock_invention = tech_cotton_gin
		unlock_invention = tech_double_acting_cylinders

		unlock_invention = tech_experimental_railway
		unlock_invention = tech_steam_locomotive
		unlock_invention = tech_rack_railway

		unlock_invention = tech_rocket_artillery
		
		unlock_invention = tech_torpedoes
		unlock_invention = tech_steam_powered_ships

		unlock_invention = tech_scientific_revolution
	}

	every_country = {
		limit = {
			OR = {
				tag = FRA
				tag = NED
				tag = USA
				country_culture_group = german
			}
		}
		unlock_invention = tech_rotative_beam_engine
		unlock_invention = tech_cotton_gin
		unlock_invention = tech_double_acting_cylinders

		unlock_invention = tech_rocket_artillery
		unlock_invention = tech_torpedoes
	}

	every_country = {
		limit = {
			OR = {
				country_culture_group = south_slavic
				country_culture_group = west_slavic
				country_culture_group = east_slavic
			}
		}
		TECH_unlock_military_level_0 = yes
		TECH_unlock_military_level_1 = yes
		TECH_unlock_military_level_2 = yes
		TECH_unlock_military_level_3 = yes
		TECH_unlock_oratory_level_1 = yes
		TECH_unlock_oratory_level_2 = yes
		TECH_unlock_oratory_level_3 = yes
		TECH_unlock_oratory_level_4 = yes
		TECH_unlock_civic_level_1 = yes
		TECH_unlock_civic_level_2 = yes
		TECH_unlock_civic_level_3 = yes
		TECH_unlock_civic_level_4 = yes
		TECH_unlock_civic_level_5 = yes
		TECH_unlock_religious_level_1 = yes
		TECH_unlock_religious_level_2 = yes
		TECH_unlock_religious_level_3 = yes
	}

	every_country = {
		limit = {
			OR = {
				country_culture_group = west_turkic
				country_culture_group = levantine_arabic
				country_culture_group = african_arabic
				country_culture_group = albanian_group
				country_culture_group = greek_group
				country_culture_group = armenian_group
				country_culture_group = romanian_group
				country_culture_group = central_iranian
				country_culture_group = eastern_arabic
				country_culture_group = dagestani_group
				country_culture_group = central_aryan
				country_culture_group = east_iranian
				country_culture_group = west_iranian
			}
		}
		TECH_unlock_military_level_0 = yes
		TECH_unlock_military_level_1 = yes
		TECH_unlock_military_level_2 = yes
		unlock_invention = tech_mortar
		unlock_invention = tech_wheeled_cannons

		unlock_invention = tech_naval_explosives
		unlock_invention = tech_carronade
		TECH_unlock_oratory_level_1 = yes
		TECH_unlock_oratory_level_2 = yes
		TECH_unlock_civic_level_1 = yes
		TECH_unlock_civic_level_2 = yes
		TECH_unlock_civic_level_3 = yes
		TECH_unlock_civic_level_3 = yes
		TECH_unlock_religious_level_1 = yes
		TECH_unlock_religious_level_2 = yes
	}

	c:TUR = {
		unlock_invention = tech_limber
		unlock_invention = tech_howitzer
		unlock_invention = tech_skirmisher_corps
		unlock_invention = tech_rifles
	}
}

# TODO: Move into MILITARY se file

MILITARY_setup_supplies = {
	# Scope: Country
	# Function: Set up the initial supply cache for the military
	# Called: At setup or on country creation
	# TODO: Add to country creation
	set_variable = {
		name = MILITARY_supplies_country
		value = {
			value = MILITARY_supplies_country_consumed_quarterly
			multiply = -4
		}
	}
}

MILITARY_update_supplies = {
	# Scope: Country
	# Function: Update the amount of supplies in the country supply cache
	change_variable = {
		name = MILITARY_supplies_country
		add = MILITARY_supplies_balance_country
	}
}

# TODO: Move this into a schemes effect file
remove_scheme_variables_effect = {

}