namespace = debug_trade

debug_trade.1 = { # Set food price equilibrium @ start of game
	type = country_event
	title = "TEST"
	desc = "TEST"
	picture = aqueducts

	immediate = {
		TRADE_refresh_federation_CU_total_demand_differences = yes
		every_country = { # Create a variable for all demand differences BEFORE international trade, otherwise the update for demand differences may not be able to find the demand difference var in trade partner scopes
			TRADE_refresh_country_total_demand_differences = yes
		}
		every_country = {
			TRADE_setup_tax_rates = yes
			every_governorships = {
				TRADE_set_internal_trade_scope = yes
				TRADE_update_governorship_TZs = yes
				TRADE_cache_svalues_governorship_food_prices = yes
				TRADE_country_update_all_total_demand_differences = yes
			}
		}
		TRADE_first_time_setup_simulation_run = yes
	}

	option = {
		name = "TEST"
	}
}

debug_trade.2 = { # Normal food trade
	type = country_event
	title = "TEST"
	desc = "TEST"
	picture = aqueducts

	immediate = {
		TRADE_every_country_update_all_TZ_total_demand_differences = yes
		TRADE_first_time_setup_price_TZs_food = yes
		every_country = {
			every_governorships = {
				TRADE_set_internal_trade_scope = yes # Repeats an effect run by oa_economy_setup, needs to be run quarterly after that
				TRADE_update_governorship_TZs = yes
			}
			TRADE_setup_tax_rates = yes
		}
	}

	option = {
		name = "TEST"
	}
}

debug_trade.3 = { # Test sqrt
	type = country_event
	title = "TEST"
	desc = "TEST"
	picture = aqueducts

	immediate = {
		sqrt = {
			input = 16
		}
		add_treasury = local_var:result
	}

	option = {
		name = "TEST"
	}
}
