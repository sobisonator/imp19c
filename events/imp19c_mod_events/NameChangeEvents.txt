namespace = namechange

namechange.1 = { #test event for China
	type = country_event
	title = namechange.1.t
	desc = namechange.1.desc
	picture = chinese_throne_room
	
	#left_portrait = root.current_ruler
	#right_portrait = root.current_ruler
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			root = {
				trigger_event = namechange.3
				days = { 5 10 }
			}
		}
	}
	
	option = {
		trigger = {
			NOT = { has_variable = had_daoguang_era }
			OR = {
				NOT = { has_variable = had_guangxu_era }
				scope:chinese_emperor.var:number_for_era_name = 6
			}
		}
		name = namechange.1.a #radiant path
		ai_chance = { factor = 50 }
		custom_tooltip = "The new emperor will have the era name Daoguang."
		hidden_effect = {
			set_variable = had_daoguang_era
			scope:chinese_emperor = { set_firstname = "Daoguang" add_nickname = "NICKNAME_BLANK" }
		}
	}
	option = {
		trigger = {
			OR = {
				scope:chinese_emperor.var:number_for_era_name = 1
				scope:chinese_emperor.var:number_for_era_name = 4
				scope:chinese_emperor.var:number_for_era_name = 5
				scope:chinese_emperor.var:number_for_era_name = 7
				scope:chinese_emperor.var:number_for_era_name = 10
				has_variable = had_daoguang_era
			}
			NOT = { has_variable = had_xianfeng_era }
		}
		name = namechange.1.b #universal prosperity
		ai_chance = { factor = 20 }
		custom_tooltip = "The new emperor will have the era name Xianfeng."
		hidden_effect = {
			set_variable = had_xianfeng_era
			scope:chinese_emperor = { set_firstname = "Xianfeng" add_nickname = "NICKNAME_BLANK" }
		}
	}
	option = {
		trigger = {
			OR = {
				scope:chinese_emperor.var:number_for_era_name = 1
				scope:chinese_emperor.var:number_for_era_name = 8
				AND = {
					has_variable = had_daoguang_era
					has_variable = had_xianfeng_era
				}
			}
			NOT = { has_variable = had_qixiang_era }
		} 
		name = namechange.1.c #blessed destiny
		ai_chance = { factor = 10 }
		custom_tooltip = "The new emperor will have the era name Qixiang."
		hidden_effect = {
			set_variable = had_qixiang_era
			scope:chinese_emperor = { set_firstname = "Qixiang" add_nickname = "NICKNAME_BLANK" }
		}
	}
	option = {
		trigger = {
			NOT = { has_variable = had_tongzhi_era }
			OR = {
				has_variable = empress_dowager_regency
				scope:chinese_emperor.var:number_for_era_name = 4
				scope:chinese_emperor.var:number_for_era_name = 9
			}
		} 
		name = namechange.1.d #order and prosperity
		ai_chance = { factor = 90 }
		custom_tooltip = "The new emperor will have the era name Tongzhi."
		hidden_effect = {
			set_variable = had_tongzhi_era
			scope:chinese_emperor = { set_firstname = "Tongzhi" add_nickname = "NICKNAME_BLANK" }
		}
	}
	option = {
		trigger = {
			OR = {
				scope:chinese_emperor.var:number_for_era_name = 2
				scope:chinese_emperor.var:number_for_era_name = 3
				scope:chinese_emperor.var:number_for_era_name = 5
				scope:chinese_emperor.var:number_for_era_name = 8
				has_variable = had_tongzhi_era
			}
			NOT = { has_variable = had_guangxu_era }
		}
		name = namechange.1.e #glorious succession
		ai_chance = { factor = 10 }
		custom_tooltip = "The new emperor will have the era name Guangxu."
		hidden_effect = {
			set_variable = had_guangxu_era
			scope:chinese_emperor = { set_firstname = "Guangxu" add_nickname = "NICKNAME_BLANK" }
		}
	}
	option = {
		trigger = {
			OR = {
				scope:chinese_emperor.var:number_for_era_name = 1
				scope:chinese_emperor.var:number_for_era_name = 4
				scope:chinese_emperor.var:number_for_era_name = 5
				scope:chinese_emperor.var:number_for_era_name = 7
				scope:chinese_emperor.var:number_for_era_name = 10
			}
			NOT = { has_variable = had_xuantong_era }
		} 
		name = namechange.1.f #establishing unity
		ai_chance = { factor = 10 }
		custom_tooltip = "The new emperor will have the era name Xuantong."
		hidden_effect = {
			set_variable = had_xuantong_era
			scope:chinese_emperor = { set_firstname = "Xuantong" add_nickname = "NICKNAME_BLANK" }
		}
	}
	option = {
		trigger = {
			OR = {
				scope:chinese_emperor.var:number_for_era_name = 2
				scope:chinese_emperor.var:number_for_era_name = 5
				scope:chinese_emperor.var:number_for_era_name = 6
				scope:chinese_emperor.var:number_for_era_name = 8
				scope:chinese_emperor.var:number_for_era_name = 9
				scope:chinese_emperor.var:number_for_era_name = 10
			}
			NOT = { has_variable = had_datong_era }
		} 
		name = namechange.1.g #great unity
		ai_chance = { factor = 10 }
		custom_tooltip = "The new emperor will have the era name Datong."
		hidden_effect = {
			set_variable = had_datong_era
			scope:chinese_emperor = { set_firstname = "Datong" add_nickname = "NICKNAME_BLANK" }
		}
	}
	option = {
		trigger = {
			OR = {
				scope:chinese_emperor.var:number_for_era_name = 2
				scope:chinese_emperor.var:number_for_era_name = 4
			}
			NOT = { has_variable = had_tianqing_era }
		} 
		name = namechange.1.h #heavenly radiance
		ai_chance = { factor = 5 }
		custom_tooltip = "The new emperor will have the era name Tianqing."
		hidden_effect = {
			set_variable = had_tianqing_era 
			scope:chinese_emperor = { set_firstname = "Tianqing" add_nickname = "NICKNAME_BLANK" }
		}
	}
	option = {
		trigger = {
			OR = {
				scope:chinese_emperor.var:number_for_era_name = 3
				scope:chinese_emperor.var:number_for_era_name = 5
			}
			NOT = { has_variable = had_da_en_era }
		} 
		name = namechange.1.i #great mercy 
		ai_chance = { factor = 5 }
		custom_tooltip = "The new emperor will have the era name Da'en."
		hidden_effect = {
			set_variable = had_da_en_era
			scope:chinese_emperor = { set_firstname = "Da'en" add_nickname = "NICKNAME_BLANK" }
		}
	}
	option = {
		trigger = {
			has_variable = had_datong_era
			NOT = { has_variable = had_tianming_era }
		}
		name = namechange.1.j #heavenly illumination
		ai_chance = { factor = 5 }
		custom_tooltip = "The new emperor will have the era name Tianming."
		hidden_effect = {
			set_variable = had_tianming_era
			scope:chinese_emperor = { set_firstname = "Tianming" add_nickname = "NICKNAME_BLANK" }
		}
	}
	option = {
		trigger = {
			OR = {
				scope:chinese_emperor.var:number_for_era_name = 2
				scope:chinese_emperor.var:number_for_era_name = 5
				has_variable = had_datong_era
				has_variable = had_xuankang_era
			}
			NOT = { has_variable = had_daye_era }
		} 
		name = namechange.1.k #great endeavour - should be for an overtly modernising emperor
		ai_chance = { factor = 5 }
		custom_tooltip = "The new emperor will have the era name Daye."
		hidden_effect = {
			set_variable = had_daye_era
			scope:chinese_emperor = { set_firstname = "Daye" add_nickname = "NICKNAME_BLANK" }
		}
	}
	option = {
		trigger = {
			OR = {
				scope:chinese_emperor.var:number_for_era_name = 6
				scope:chinese_emperor.var:number_for_era_name = 7
				has_variable = had_datong_era
			}
			NOT = { has_variable = had_xuankang_era }
		} 
		name = namechange.1.l #establishing prosperity
		ai_chance = { factor = 5 }
		custom_tooltip = "The new emperor will have the era name Xuankang."
		hidden_effect = {
			set_variable = had_xuankang_era
			scope:chinese_emperor = { set_firstname = "Xuankang" add_nickname = "NICKNAME_BLANK" }
		}
	}
	option = {
		trigger = {
			always = no
			NOT = { has_variable = had_hongfeng_era }
		}
		name = namechange.1.m #vastly prosperous
		ai_chance = { factor = 5 }
		custom_tooltip = "The new emperor will have the era name Hongfeng."
		hidden_effect = {
			set_variable = had_hongfeng_era
			scope:chinese_emperor = { set_firstname = "Hongfeng" add_nickname = "NICKNAME_BLANK" }
		}
	}
	option = {
		trigger = {
			NOT = { has_variable = had_hongzhong_era }
			muslim_group_trigger = yes
		}
		name = namechange.1.n #abundantly faithful/loyal - seems appropriate for first emperor of a Muslim dynasty
		ai_chance = { factor = 50 }
		custom_tooltip = "The new emperor will have the era name Hongzhong."
		hidden_effect = {
			set_variable = had_hongzhong_era
			scope:chinese_emperor = { set_firstname = "Hongzhong" add_nickname = "NICKNAME_BLANK" }
		}
	}
	option = {
		trigger = {
			NOT = { has_variable = had_jianhe_era }
			muslim_group_trigger = yes
		}
		name = namechange.1.o #establishing awe - this is a bit reminiscent of "as-Saffah" which itself would be hard to translate in Chinese
		ai_chance = { factor = 50 }
		custom_tooltip = "The new emperor will have the era name Jianhe."
		hidden_effect = {
			set_variable = had_jianhe_era
			scope:chinese_emperor = { set_firstname = "Jianhe" add_nickname = "NICKNAME_BLANK" }
		}
	}
}

namechange.2 = { #test event for China
	type = country_event
	title = namechange.2.t
	desc = namechange.2.desc
	picture = chinese_throne_room
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = { primary_culture = manchu }
			NOT = { has_variable = had_emperor_taizu }
		}
		name = namechange.2.a #Taizu - transcendent ancestor
		ai_chance = { factor = 100 }
		custom_tooltip = "In line with ancient tradition, the First Emperor will be known to his descendants as Taizu - the supreme or transcendent ancestor."
		hidden_effect = {
			set_variable = had_emperor_taizu
			scope:previous_emperor = { set_firstname = "Taizu" }
		}
	}
	
	option = {
		trigger = {
			OR = {
				primary_culture = manchu
				has_variable = had_emperor_taizu
			}
			NOT = { has_variable = had_emperor_renzong }
		}
		name = namechange.2.b #Renzong - humane predecessor
		ai_chance = { factor = 10 }
		custom_tooltip = "The former emperor was a man of virtue and understanding. He will be known at the temple as Renzong."
		hidden_effect = {
			set_variable = had_emperor_renzong
			scope:previous_emperor = { set_firstname = "Renzong" }
		}
	}
	#etc
}

namechange.3 = { #test event for Papal States
	type = country_event
	title = namechange.3.t
	desc = namechange.3.desc
	picture = religious_rite
	
	left_portrait = root.current_ruler
	
	is_triggered_only = yes
	
	option = {
		name = namechange.3.a #Leo
		ai_chance = { factor = 10 }
		hidden_effect = {
			scope:roman_pope = { set_firstname = "Leo" add_nickname = "NICKNAME_BLANK" set_family = "POPE_FAMILY" adapt_family_name = yes }
		}
	}
	option = {
		name = namechange.3.b #Benedict
		ai_chance = { factor = 10 }
		hidden_effect = {
			scope:roman_pope = { set_firstname = "Benedictus" add_nickname = "NICKNAME_BLANK" set_family = "POPE_FAMILY" adapt_family_name = yes }
		}
	}
	option = {
		name = namechange.3.c #John
		ai_chance = { factor = 10 }
		hidden_effect = {
			scope:roman_pope = { set_firstname = "Ioannes" add_nickname = "NICKNAME_BLANK" set_family = "POPE_FAMILY" adapt_family_name = yes }
		}
	}
	option = {
		name = namechange.3.d #Julius
		ai_chance = { factor = 10 }
		hidden_effect = {
			scope:roman_pope = { set_firstname = "Iulius" add_nickname = "NICKNAME_BLANK" set_family = "POPE_FAMILY" adapt_family_name = yes }
		}
	}
	option = {
		name = namechange.3.e #Boniface
		ai_chance = { factor = 10 }
		hidden_effect = {
			scope:roman_pope = { set_firstname = "Bonifacius" add_nickname = "NICKNAME_BLANK" set_family = "POPE_FAMILY" adapt_family_name = yes }
		}
	}
	option = {
		name = namechange.3.f #Marcel
		ai_chance = { factor = 10 }
		hidden_effect = {
			scope:roman_pope = { set_firstname = "Marcellus" add_nickname = "NICKNAME_BLANK" set_family = "POPE_FAMILY" adapt_family_name = yes }
		}
	}
	option = {
		name = namechange.3.g #Innocent
		ai_chance = { factor = 10 }
		hidden_effect = {
			scope:roman_pope = { set_firstname = "Innocentius" add_nickname = "NICKNAME_BLANK" set_family = "POPE_FAMILY" adapt_family_name = yes }
		}
	}
	#option = {
	#	name = namechange.3.h #keep his baptismal name
	#	ai_chance = { factor = 5 }
	#	hidden_effect = {
	#		scope:roman_pope = { set_family = "POPE_FAMILY" adapt_family_name = yes }
	#	}
	#}
}